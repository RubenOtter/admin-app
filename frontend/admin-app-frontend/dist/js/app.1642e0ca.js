(function(e){function t(t){for(var s,r,c=t[0],n=t[1],d=t[2],g=0,u=[];g<c.length;g++)r=c[g],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);l&&l(t);while(u.length)u.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,c=1;c<a.length;c++){var n=a[c];0!==i[n]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},o=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],n=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=n;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0380":function(e,t,a){"use strict";a("e923")},"05b1":function(e,t,a){},"0615":function(e,t,a){"use strict";a("483d")},1:function(e,t){},1258:function(e,t,a){},"17b3":function(e,t,a){"use strict";a("d814")},"1aae":function(e,t,a){"use strict";a("9f10")},"1b60":function(e,t,a){"use strict";a("ddab")},"1caf":function(e,t,a){},"1d13":function(e,t,a){"use strict";a("63ba")},2:function(e,t){},2863:function(e,t,a){"use strict";a("35df")},"2a52":function(e,t,a){"use strict";a("1caf")},"2baa":function(e,t,a){"use strict";a("d05f")},"2ccb":function(e,t,a){},"2e9e":function(e){e.exports=JSON.parse('{"English":{"Nav_Welcome":"Welcome,","Nav_Ref":"Go to Employee App","Nav_Logout":"Log out","Nav_Employees":"Employees","Nav_Menu":"Menu","Nav_Robots":"Robots","Nav_Map":"Map","Nav_OrderHistory":"Order History","Nav_Settings":"Settings","WeekComp_AvgTotOrder":"Average Total Orders:","WeekComp_AvgTotRev":"Average Total Revenue:","WeekComp_HoverMessage":"Hover over a day.","WeekComp_Monday":"Monday","WeekComp_Tuesday":"Tuesday","WeekComp_Wednesday":"Wednesday","WeekComp_Thursday":"Thursday","WeekComp_Friday":"Friday","WeekComp_Saturday":"Saturday","WeekComp_Sunday":"Sunday","ForgotPassPage_TokenErr":"Token has expired","ForgotPassPage_EmailErr":"Please fill in an email to receive a reset link.","ForgotPassPage_EmailReset":"A mail to reset your password has been sent.","ForgotPassPage_UserMailErr":"No user found with given email.","ForgotPassPage_PassChanged":"Password has been changed","ForgotPassPage_Error":"Something went wrong, please try again later.","ForgotPassPage_PassErr":"Filled in passwords do not match.","ForgotPassPage_PlaceHolder_Pass":"Password","ForgotPassPage_PlaceHolder_PassConfirm":"Confirm Password","LoginPage_FieldErr":"All fields need to be filled in.","LoginPage_PlaceHolder_Pass":"Password","MenuPage_CatErr":"You\'ll need to add a category first.","MenuPage_ByProduct":"ByProducts","SetPage_WebsiteSettings":"Website Settings","SetPage_RestaurantSettings":"Restaurant Settings","WebSet_BackgroundImage":"Background Image","WebSet_SaveSettings":"Save Settings","WebSet_PrimaryColor":"Primary Color","WebSet_SecondaryColor":"Secondary Color","ResSet_RestaurantName":"Restaurant Name","ResSet_ContactPerson":"Contact Person","ResSet_OpenCloseTime":"Opening and Closing Time","ResSet_ContactEmail":"Contact Email","ResSet_ContactPhone":"Contact Phone","ResSet_SaveSettings":"Save Settings","ResSet_RestaurantLogo":"Restaurant Logo","EmpPage_Employee":"Employee","EmpPage_Pin":"Pin","EmpPage_Edit":"Edit","EmpPage_Add":"Add Employee","EmpPage_Err1":"An employee with this username already exists.","EmpPage_Err2":"Pin should be a four digit number.","EmpPage_Succes1":"has been added succesfully","EmpPage_Succes2":"has been updated succesfully.","EmpComp_FieldErr":"All fields need to be filled in.","EmpComp_DelConfirm":"Delete this user? ","CatDropDownComp_Ordered":"was ordered:","CatDropDownComp_Times":"time(s).","ProdComp_Edit":"Edit","CatPage_Name":"Name: (Required)","CatPage_Visible":"Is Visible:","CatPage_Image":"Image:","CatPage_Parent":"Select Parent-Categories:","CatPage_Save":"Save","CatPage_Delete":"Delete","CatPage_Err1":"Not all required fields are filled in, please check again","CatPage_Err2":"A category with the same name already exists.","CatPage_Succes1":"has been added to the menu.","CatPage_Succes2":"has been updated.","CatPage_DelConfirm":"will be deleted from the menu, proceed?","CatPage_DelSucces":"has been deleted.","CatPage_PlaceHolder_Name":"Name...","ProdPage_Title":"Name: (Required)","ProdPage_Description":"Description:","ProdPage_Price":"Price: (Required)","ProdPage_Discount":"Discount price:","ProdPage_Alcohol":"Contains Alcohol:","ProdPage_IsByProduct":"Is A By-Product:","ProdPage_Image":"Image:","ProdPage_Ingredients":"Ingredients:","ProdPage_Required":"Required","ProdPage_NotRequired":"Not Required","ProdPage_Add":"Add","ProdPage_Tags":"Tags:","ProdPage_Categories":"Categories:","ProdPage_ByProducts":"By-Products:","ProdPage_Save":"Save","ProdPage_Delete":"Delete","ProdPage_PlaceHolderName":"Name...","ProdPage_PlaceHolderDescription":"Description...","ProdPage_PlaceHolderPrice":"Price...","ProdPage_PlaceHolderDiscount":"Discount...","ProdPage_PlaceHolderSearchIngredient":"Search Ingredient...","ProdPage_PlaceHolderSearchTag":"Search Tag...","ProdPage_FieldErr":"Not all required fields are filled in.","ProdPage_SuccesAdd":"has been succesfully added to the menu.","ProdPage_SuccesUpdate":"has been updated succesfully.","ProdPage_AlreadyExistTag":"A tag with this name already exists.","ProdPage_AlreadyExistIngredient":"An ingredient with this name already exists.","ProdPage_ConfirmDelete":"Will be deleted from the menu, proceed?","ProdPage_DeleteSucces":"has been deleted succesfully.","MapPage_RobotStart":"Place robot start position.","MapPage_PlaceTable":"Place a table.","MapPage_PlaceWall":"Place a wall.","MapPage_Delete":"Delete Selected","MapPage_MapScale":"Map Scale:","MapPage_CustomScale":"Custom Scale:","MapPage_Save":"Save","App_Error":"Something went wrong, try again later.","LogPage_Forgot":"Forgot Password?","LogPage_Login":"Log in","MenuPage_Categories":"Categories","MenuPage_CatExist":"No existing categories.","MenuPage_Archive":"Archived","MenuPage_Products":"Products","MenuPage_SelCat":"Select a category.","MenuPage_SelChild":"Select a child-category.","MenuPage_CatEmpty":"Currently selected category doesn\'t contain any products.","MenuPage_AddCat":"Add Category","MenuPage_AddProd":"Add Product","RobotPage_Edit":"Edit","RobotPage_Add":"Add Robot","RobotPage_IdExistErr":"A robot with this id already exists.","RobotPage_NameExistErr":"A robot with this name already exists.","RobotPage_AddSuccess":" has been added succesfully","RobotPage_UpdateSuccess":" has been updated succesfully","RobotComp_FieldErr":"All fields need to be filled in.","OrderHisPage_Last7":"Last 7 days","OrderHisPage_Last30":"Last 30 days","OrderHisPage_Last90":"Last 90 days","OrderHisPage_Last180":"Last 180 days","OrderHisPage_Last365":"Last 365 days","OrderHisPage_AllTime":"All time","OrderHisPage_From":"From:","OrderHisPage_To":"To:","OrderHisPage_Apply":"Apply","OrderHisPage_TotRev":"Total Revenue:","OrderHisPage_TotOrders":"Total Orders:","OrderHisPage_AvgOrderRev":"Average Order Revenue:","OrderHisPage_TotProdOrdered":"Total Products Ordered:","OrderHisPage_ExpOrderHis":"Export Order History","ImgPrev_UploadImage":"Upload Image","PassPage_Change":"Change Password","PassPage_ResetLink":"Send Resetlink"},"Nederlands":{"Nav_Welcome":"Welkom,","Nav_Ref":"Ga naar Employee App","Nav_Logout":"Log uit","Nav_Employees":"Werknemers","Nav_Menu":"Menu","Nav_Robots":"Robots","Nav_Map":"Map","Nav_OrderHistory":"Bestelgeschiedenis","Nav_Settings":"Instellingen","WeekComp_AvgTotOrder":"Gemiddelde totaal aantal bestellingen:","WeekComp_AvgTotRev":"Gemiddelde omzet totaal:","WeekComp_HoverMessage":"Beweeg met je muis over een dag.","WeekComp_Monday":"Maandag","WeekComp_Tuesday":"Dinsdag","WeekComp_Wednesday":"Woensdag","WeekComp_Thursday":"Donderdag","WeekComp_Friday":"Vrijdag","WeekComp_Saturday":"Zaterdag","WeekComp_Sunday":"Zondag","ForgotPassPage_TokenErr":"Token is vervallen.","ForgotPassPage_EmailErr":"Vul een e-mailadres in om een herstel link te ontvangen.","ForgotPassPage_EmailReset":"Een e-mail om je wachtwoord te herstellen is verstuurd.","ForgotPassPage_UserMailErr":"Geen gebruiker gevonden met deze mail.","ForgotPassPage_PassChanged":"Wachtwoord is aangepast.","ForgotPassPage_Error":"Er is een fout opgetreden, probeer het later opnieuw.","ForgotPassPage_PassErr":"De ingevulde wachtwoorden komen niet overeen.","ForgotPassPage_PlaceHolder_Pass":"Wachtwoord","ForgotPassPage_PlaceHolder_PassConfirm":"Wachtwoord Bevestigen","LoginPage_FieldErr":"Alle velden moeten ingevuld worden.","LoginPage_PlaceHolder_Pass":"Wachtwoord","MenuPage_CatErr":"Voeg eerst een categorie toe.","MenuPage_ByProduct":"BijProducten","SetPage_WebsiteSettings":"Website Instellingen","SetPage_RestaurantSettings":"Restaurant Instellingen","WebSet_BackgroundImage":"Achtergrond Foto","WebSet_SaveSettings":"Instellingen Opslaan","WebSet_PrimaryColor":"Primaire Kleur","WebSet_SecondaryColor":"Secundaire Kleur","ResSet_RestaurantName":"Restaurant Naam","ResSet_ContactPerson":"Contact Persoon","ResSet_OpenCloseTime":"Opening- en Sluitingstijden","ResSet_ContactEmail":"Contact Email","ResSet_ContactPhone":"Telefoonnummer","ResSet_SaveSettings":"Instellingen Opslaan","ResSet_RestaurantLogo":"Restaurant Logo","EmpPage_Employee":"Werknemer","EmpPage_Pin":"Pin","EmpPage_Edit":"Bewerk","EmpPage_Add":"Medewerker toevoegen","EmpPage_Err1":"Een medewerker met deze gebruikersnaam bestaat al.","EmpPage_Err2":"Je pincode hoort uit 4 getallen te bestaan.","EmpPage_Succes1":"is succesvol toegevoegd.","EmpPage_Succes2":"is succesvol aangepast.","EmpComp_FieldErr":"Alle velden moeten ingevuld worden.","EmpComp_DelConfirm":"Deze gebruiker verwijderen? ","CatDropDownComp_Ordered":"is:","CatDropDownComp_Times":"keer besteld.","ProdComp_Edit":"Bewerk","CatPage_Name":"Naam: (Verplicht)","CatPage_Visible":"Is Zichtbaar:","CatPage_Image":"Afbeelding:","CatPage_Parent":"Selecteer Hoofdcategorieën:","CatPage_Save":"Opslaan","CatPage_Delete":"Verwijder","CatPage_Err1":"Niet alle verplichte velden zijn ingevuld, controlleer uw invoer opnieuw","CatPage_Err2":"Er bestaat al een categorie met dezelfde naam.","CatPage_Succes1":"is aan het menu toegevoegd.","CatPage_Succes2":"is aangepast.","CatPage_DelConfirm":"zal uit het menu worden verwijderd, wilt u doorgaan?","CatPage_DelSucces":"is verwijderd.","CatPage_PlaceHolder_Name":"Naam...","ProdPage_Title":"Naam: (Verplicht)","ProdPage_Description":"Beschrijving:","ProdPage_Price":"Prijs: (Verplicht)","ProdPage_Discount":"Kortingsprijs:","ProdPage_Alcohol":"Bevat alcohol:","ProdPage_IsByProduct":"Is Een Bij-Product:","ProdPage_Image":"Afbeelding:","ProdPage_Ingredients":"Ingrediënten:","ProdPage_Required":"Verplicht","ProdPage_NotRequired":"Niet Verplicht","ProdPage_Add":"Voeg","ProdPage_Tags":"Tags:","ProdPage_Categories":"Categorieën:","ProdPage_ByProducts":"Bij-Producten:","ProdPage_Save":"Opslaan","ProdPage_Delete":"Verwijder","ProdPage_PlaceHolderName":"Naam...","ProdPage_PlaceHolderDescription":"Beschrijving...","ProdPage_PlaceHolderPrice":"Prijs...","ProdPage_PlaceHolderDiscount":"Korting...","ProdPage_PlaceHolderSearchIngredient":"Zoek Ingrediënt...","ProdPage_PlaceHolderSearchTag":"Zoek Label...","ProdPage_FieldErr":"Niet alle verplichte velden zijn ingevuld.","ProdPage_SuccesAdd":"is succesvol toegevoegd aan het menu.","ProdPage_SuccesUpdate":"is succesvol aangepast.","ProdPage_AlreadyExistTag":"Een label met deze naam bestaat al.","ProdPage_AlreadyExistIngredient":"Een ingredient met deze naam bestaat al.","ProdPage_ConfirmDelete":"Wordt van het menu verwijderd, doorgaan?","ProdPage_DeleteSucces":"is succesvol verwijderd.","MapPage_RobotStart":"Plaats robot start positie.","MapPage_PlaceTable":"Plaats een tafel.","MapPage_PlaceWall":"Place een muur.","MapPage_Delete":"Verwijder Geselecteerde","MapPage_MapScale":"Map Schaal:","MapPage_CustomScale":"Aangepaste Schaal:","MapPage_Save":"Opslaan","App_Error":"Er is iets fout gegaan, probeer het later opnieuw.","LogPage_Forgot":"Wachtwoord vergeten?","LogPage_Login":"Inloggen","MenuPage_Categories":"Categorieën","MenuPage_CatExist":"Geen categorieën aanwezig","MenuPage_Archive":"Gearchiveerd","MenuPage_Products":"Producten","MenuPage_SelCat":"Selecteer een categorie","MenuPage_SelChild":"Selecteer een subcategorie.","MenuPage_CatEmpty":"De geselecteerde categorie bevat geen producten.","MenuPage_AddCat":"Voeg Categorie","MenuPage_AddProd":"Voeg Product","RobotPage_Edit":"Bewerk","RobotPage_Add":"Voeg Robot","RobotComp_FieldErr":"Alle velden moeten worden ingevuld.","RobotPage_IdExistErr":"A robot with this id already exists.","RobotPage_NameExistErr":"A robot with this name already exists.","RobotPage_AddSuccess":" is succesvol toegevoegd.","RobotPage_UpdateSuccess":" is succesvol aangepast.","RobotComp_Delete":"Weet u zeker dat u deze robot wilt verwijderen? ","OrderHisPage_Last7":"Laatste 7 dagen","OrderHisPage_Last30":"Laatste 30 dagen","OrderHisPage_Last90":"Laatste 90 dagen","OrderHisPage_Last180":"Laatste 180 dagen","OrderHisPage_Last365":"Laatste 365 dagen","OrderHisPage_AllTime":"Alle Perioden","OrderHisPage_From":"Van:","OrderHisPage_To":"Tot:","OrderHisPage_Apply":"Toepassen","OrderHisPage_TotRev":"Totaal Omzet:","OrderHisPage_TotOrders":"Totaal Bestellingen:","OrderHisPage_AvgOrderRev":"Gemiddelde omzet per bestelling:","OrderHisPage_TotProdOrdered":"Totaal aantal producten besteld:","OrderHisPage_ExpOrderHis":"Exporteer bestelgeschiedenis","ImgPrev_UploadImage":"Upload Afbeelding","PassPage_Change":"Wachtwoord veranderen","PassPage_ResetLink":"Verstuur Resetlink"}}')},3:function(e,t){},3452:function(e,t,a){"use strict";a("7f8a")},"35df":function(e,t,a){},3939:function(e,t,a){"use strict";a("05b1")},3984:function(e,t,a){"use strict";a("7940")},4170:function(e,t,a){"use strict";a("876b")},"422c":function(e,t,a){"use strict";a("1258")},4753:function(e,t,a){},"483d":function(e,t,a){},"4d1f":function(e,t,a){"use strict";a("dfa0")},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("7a23");function i(e,t,a,i,o,r){const c=Object(s["B"])("Notifications"),n=Object(s["B"])("NavigationBar"),d=Object(s["B"])("router-view"),l=Object(s["B"])("Background");return Object(s["u"])(),Object(s["g"])("div",null,[Object(s["j"])(c),Object(s["L"])(Object(s["j"])(n,{currentPage:this.$route.name,restaurantName:this.restaurantSettings.name},null,8,["currentPage","restaurantName"]),[[s["I"],r.isNotLoginPage]]),Object(s["j"])(d,{class:Object(s["p"])({"other-page":r.isNotLoginPage,"login-page":!r.isNotLoginPage})},null,8,["class"]),Object(s["j"])(l,{ref:"background"},null,512)])}const o=["src"];function r(e,t,a,i,r,c){return Object(s["u"])(),Object(s["g"])("div",null,[Object(s["h"])("img",{src:r.image},null,8,o)])}var c=a("b076"),n=a.n(c),d=a("bc3a"),l=a.n(d);const g="http://178.62.217.137/api/info";var u={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getRestaurantSettings(){var e;try{e=await l.a.get(g+"/restaurant")}catch(t){e=t.response}return e},async putRestaurantSettings(e){var t;try{t=await l.a.put(g+"/restaurant",e,this.getHeaders())}catch(a){t=a.response}return t},async getWebsiteSettings(){var e;try{e=await l.a.get(g+"/website")}catch(t){e=t.response}return e},async putWebsiteSettings(e){var t;try{t=await l.a.put(g+"/website",e,this.getHeaders())}catch(a){t=a.response}return t}},h={name:"Background",data(){return{image:n.a}},async mounted(){this.update()},methods:{async update(){let e=await u.getWebsiteSettings(),t=e.data.data.info,a=t.backgroundImage;a&&a.startsWith("data:image")?this.image=a:this.image=n.a}}},b=(a("3452"),a("6b0d")),m=a.n(b);const p=m()(h,[["render",r],["__scopeId","data-v-27c80d60"]]);var O=p;const j=e=>(Object(s["x"])("data-v-37b5a820"),e=e(),Object(s["v"])(),e),y={class:"navigation-bar"},P={class:"top-part"},f={class:"section"},v={key:0,class:"restaurant-name"},_=j(()=>Object(s["h"])("br",null,null,-1)),C={key:1,class:"restaurant-name"},w=j(()=>Object(s["h"])("br",null,null,-1)),S=Object(s["i"])("Administrator"),T={class:"section"},x=["href"],E=j(()=>Object(s["h"])("i",{class:"link-icon fas fa-external-link-alt"},null,-1)),D=j(()=>Object(s["h"])("i",{class:"link-icon fas fa-sign-out-alt"},null,-1)),k={class:"bottom-part"},A={class:"section"},I={class:"nav-item-content"},R=j(()=>Object(s["h"])("i",{class:"nav-icon fas fa-users"},null,-1)),N={class:"nav-item-content"},H=j(()=>Object(s["h"])("i",{class:"nav-icon fas fa-utensils"},null,-1)),L={class:"nav-item-content"},B=j(()=>Object(s["h"])("i",{class:"nav-icon fas fa-robot"},null,-1)),M={class:"nav-item-content"},W=j(()=>Object(s["h"])("i",{class:"nav-icon fas fa-map-marked-alt"},null,-1)),V={class:"nav-item-content"},$=j(()=>Object(s["h"])("i",{class:"nav-icon fas fa-history"},null,-1)),F={class:"section"},U={class:"nav-item-content"},Y=j(()=>Object(s["h"])("i",{class:"nav-icon fas fa-cog"},null,-1));function q(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",y,[Object(s["h"])("div",P,[Object(s["h"])("div",f,[void 0!==this.restaurantName&&this.restaurantName.length?(Object(s["u"])(),Object(s["g"])("h1",v,[Object(s["i"])(Object(s["D"])(o.text.Nav_Welcome),1),_,Object(s["i"])(Object(s["D"])(this.restaurantName),1)])):(Object(s["u"])(),Object(s["g"])("h1",C,[Object(s["i"])(Object(s["D"])(o.text.Nav_Welcome),1),w,S]))]),Object(s["h"])("div",T,[Object(s["h"])("a",{class:"link",href:o.employeeApp},[Object(s["i"])(Object(s["D"])(o.text.Nav_Ref)+" ",1),E],8,x),Object(s["h"])("a",{class:"link",onClick:t[0]||(t[0]=(...e)=>r.handleLogOut&&r.handleLogOut(...e))},[Object(s["i"])(Object(s["D"])(o.text.Nav_Logout)+" ",1),D])])]),Object(s["h"])("div",k,[Object(s["h"])("div",A,[Object(s["h"])("div",{class:Object(s["p"])({"nav-item nav-item-selected":"employees"===a.currentPage,"nav-item":"employees"!==a.currentPage}),onClick:t[1]||(t[1]=e=>r.redirectToPage("employees"))},[Object(s["h"])("div",I,[R,Object(s["i"])(" "+Object(s["D"])(o.text.Nav_Employees),1)])],2),Object(s["h"])("div",{class:Object(s["p"])({"nav-item nav-item-selected":"menu"===a.currentPage,"nav-item":"menu"!==a.currentPage}),onClick:t[2]||(t[2]=e=>r.redirectToPage("menu"))},[Object(s["h"])("div",N,[H,Object(s["i"])(" "+Object(s["D"])(o.text.Nav_Menu),1)])],2),Object(s["h"])("div",{class:Object(s["p"])({"nav-item nav-item-selected":"robots"===a.currentPage,"nav-item":"robots"!==a.currentPage}),onClick:t[3]||(t[3]=e=>r.redirectToPage("robots"))},[Object(s["h"])("div",L,[B,Object(s["i"])(" "+Object(s["D"])(o.text.Nav_Robots),1)])],2),Object(s["h"])("div",{class:Object(s["p"])({"nav-item nav-item-selected":"map"===a.currentPage,"nav-item":"map"!==a.currentPage}),onClick:t[4]||(t[4]=e=>r.redirectToPage("map"))},[Object(s["h"])("div",M,[W,Object(s["i"])(" "+Object(s["D"])(o.text.Nav_Map),1)])],2),Object(s["h"])("div",{class:Object(s["p"])({"nav-item nav-item-selected":"order-history"===a.currentPage,"nav-item":"order-history"!==a.currentPage}),onClick:t[5]||(t[5]=e=>r.redirectToPage("order-history"))},[Object(s["h"])("div",V,[$,Object(s["i"])(" "+Object(s["D"])(o.text.Nav_OrderHistory),1)])],2)]),Object(s["h"])("div",F,[Object(s["h"])("div",{class:Object(s["p"])({"nav-item nav-item-selected":"settings"===a.currentPage,"nav-item":"settings"!==a.currentPage}),onClick:t[6]||(t[6]=e=>r.redirectToPage("settings"))},[Object(s["h"])("div",U,[Y,Object(s["i"])(" "+Object(s["D"])(o.text.Nav_Settings),1)])],2)])])])}var z=a("2e9e"),Z={getTextObject(){const e=localStorage.getItem("language");return z[e]}},G={name:"NavigationBar",data(){return{text:Z.getTextObject(),employeeApp:"https://rigs.bryanaafjes.nl:444/"}},props:{currentPage:String,restaurantName:String},created(){this.getRestaurantName()},methods:{getRestaurantName(){},handleLogOut(e){e.preventDefault(),localStorage.removeItem("jwt"),this.$router.push("login")},redirectToPage(e){this.$router.push(e)}}};a("0380");const K=m()(G,[["render",q],["__scopeId","data-v-37b5a820"]]);var J=K;const X=e=>(Object(s["x"])("data-v-21b3d30c"),e=e(),Object(s["v"])(),e),Q={class:"group-container"},ee=X(()=>Object(s["h"])("i",{class:"success-icon fas fa-check-circle"},null,-1)),te={class:"notification-exit"},ae=["onClick"],se=X(()=>Object(s["h"])("i",{class:"error-icon fas fa-times-circle"},null,-1)),ie={class:"notification-exit"},oe=["onClick"],re=X(()=>Object(s["h"])("i",{class:"info-icon fas fa-exclamation-circle"},null,-1)),ce={class:"notification-exit"},ne=["onClick"],de=X(()=>Object(s["h"])("i",{class:"confirm-icon fas fa-question-circle"},null,-1)),le={class:"notification-exit"},ge=["onClick"];function ue(e,t,a,i,o,r){const c=Object(s["B"])("Notification"),n=Object(s["B"])("NotificationGroup");return Object(s["u"])(),Object(s["g"])("div",Q,[Object(s["j"])(n,{group:"success"},{default:Object(s["K"])(()=>[Object(s["h"])("div",null,[Object(s["j"])(c,null,{default:Object(s["K"])(({notifications:e,close:t})=>[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(e,e=>(Object(s["u"])(),Object(s["g"])("div",{key:e.id,class:"notification-panel"},[ee,Object(s["h"])("h1",null,Object(s["D"])(e.text),1),Object(s["h"])("div",te,[Object(s["h"])("i",{onClick:a=>t(e.id),class:"notification-exit-icon fas fa-times"},null,8,ae)])]))),128))]),_:1})])]),_:1}),Object(s["j"])(n,{group:"error"},{default:Object(s["K"])(()=>[Object(s["h"])("div",null,[Object(s["j"])(c,null,{default:Object(s["K"])(({notifications:e,close:t})=>[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(e,e=>(Object(s["u"])(),Object(s["g"])("div",{key:e.id,class:"notification-panel"},[se,Object(s["h"])("h1",null,Object(s["D"])(e.text),1),Object(s["h"])("div",ie,[Object(s["h"])("i",{onClick:a=>t(e.id),class:"notification-exit-icon fas fa-times"},null,8,oe)])]))),128))]),_:1})])]),_:1}),Object(s["j"])(n,{group:"info"},{default:Object(s["K"])(()=>[Object(s["h"])("div",null,[Object(s["j"])(c,null,{default:Object(s["K"])(({notifications:e,close:t})=>[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(e,e=>(Object(s["u"])(),Object(s["g"])("div",{key:e.id,class:"notification-panel"},[re,Object(s["h"])("h1",null,Object(s["D"])(e.text),1),Object(s["h"])("div",ce,[Object(s["h"])("i",{onClick:a=>t(e.id),class:"notification-exit-icon fas fa-times"},null,8,ne)])]))),128))]),_:1})])]),_:1}),Object(s["j"])(n,{group:"confirm"},{default:Object(s["K"])(()=>[Object(s["h"])("div",null,[Object(s["j"])(c,null,{default:Object(s["K"])(({notifications:e,close:t})=>[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(e,e=>(Object(s["u"])(),Object(s["g"])("div",{key:e.id,class:"notification-panel"},[de,Object(s["h"])("h1",null,Object(s["D"])(e.text),1),Object(s["h"])("div",le,[Object(s["h"])("i",{onClick:a=>t(e.id),class:"notification-exit-icon fas fa-times"},null,8,ge)])]))),128))]),_:1})])]),_:1})])}var he={name:"Notifications"};a("3984");const be=m()(he,[["render",ue],["__scopeId","data-v-21b3d30c"]]);var me=be,pe={getTextColor(){const e=getComputedStyle(document.body),t=e.getPropertyValue("--secondary-color");let a,s;a=t.startsWith("#")?this.hexToRgb(t):t.match(/\d+/g),s=.299*a[0]+.587*a[1]+.114*a[2]>186?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)",document.documentElement.style.setProperty("--text-color",s)},hexToRgb(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}},Oe=a("8288"),je={showSuccessNotification(e){Object(Oe["b"])({group:"success",text:e},3e3)},showErrorNotification(e){Object(Oe["b"])({group:"error",text:e},3e3)},showInfoNotification(e){Object(Oe["b"])({group:"info",text:e},3e3)},showConfirmNotification(e){Object(Oe["b"])({group:"confirm",text:e},3e3)}},ye={name:"App",components:{Background:O,NavigationBar:J,Notifications:me},data(){return{text:Z.getTextObject(),restaurantSettings:{}}},async created(){this.setStandardLanguage(),await this.updateCss(),await this.getRestaurantSettings()},methods:{setStandardLanguage(){null===localStorage.getItem("language")&&localStorage.setItem("language","English")},async updateBackground(){await this.$refs.background.update()},async updateCss(){let e=await u.getWebsiteSettings(),t=e.data.data.info;null!=t.primaryColor&&document.documentElement.style.setProperty("--primary-color",t.primaryColor),null!=t.secondaryColor&&document.documentElement.style.setProperty("--secondary-color",t.secondaryColor),pe.getTextColor()},async getRestaurantSettings(){const e=await u.getRestaurantSettings();e.data["success"]?this.restaurantSettings=e.data["data"]["info"]:je.showErrorNotification(this.text.App_Error)}},computed:{isNotLoginPage(){return"login"!==this.$route.name&&"forgot-password"!==this.$route.name}}};a("8641");const Pe=m()(ye,[["render",i]]);var fe=Pe,ve=a("6c02");const _e=e=>(Object(s["x"])("data-v-1f6931d9"),e=e(),Object(s["v"])(),e),Ce={class:"panel"},we=_e(()=>Object(s["h"])("div",{class:"section"},[Object(s["h"])("h1",{class:"title"},"HorecaRobot")],-1)),Se={class:"section"},Te={class:"input"},xe=_e(()=>Object(s["h"])("i",{class:"icon fas fa-envelope"},null,-1)),Ee=_e(()=>Object(s["h"])("div",{class:"line"},null,-1)),De={class:"input"},ke=_e(()=>Object(s["h"])("i",{class:"icon fas fa-lock"},null,-1)),Ae=_e(()=>Object(s["h"])("div",{class:"line"},null,-1)),Ie=["placeholder"],Re={class:"section"};function Ne(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",Ce,[we,Object(s["h"])("div",Se,[Object(s["h"])("div",Te,[xe,Ee,Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),class:"input-field",placeholder:"Email"},null,512),[[s["H"],o.email]])]),Object(s["h"])("div",De,[ke,Ae,Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),type:"password",class:"input-field",placeholder:o.text.LoginPage_PlaceHolder_Pass},null,8,Ie),[[s["H"],o.password]])])]),Object(s["h"])("div",Re,[Object(s["h"])("p",{class:"forgot-password",onClick:t[2]||(t[2]=(...e)=>r.redirectToForgotPasswordPage&&r.redirectToForgotPasswordPage(...e))},Object(s["D"])(o.text.LogPage_Forgot),1),Object(s["h"])("button",{class:"btn",onClick:t[3]||(t[3]=(...e)=>r.handleLogIn&&r.handleLogIn(...e))},Object(s["D"])(o.text.LogPage_Login),1)])])}const He="http://178.62.217.137/api/sign-in";var Le={async signIn(e){var t;try{t=await l.a.post(He,e)}catch(a){t=a.response}return{success:t.data["success"],message:t.data["message"],token:t.data["data"]["jwt"]}}},Be={data(){return{text:Z.getTextObject(),email:"",password:""}},methods:{async handleLogIn(){if(!this.email.trim()||!this.password.trim())return void je.showErrorNotification("this.text.LoginPage_FieldErr");const e={email:this.email,password:this.password},t=await Le.signIn(e);t.success?(localStorage.setItem("jwt",t.token),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push("employees")):je.showErrorNotification(t.message)},redirectToForgotPasswordPage(){this.$router.push("forgot-password")}}};a("a952");const Me=m()(Be,[["render",Ne],["__scopeId","data-v-1f6931d9"]]);var We=Me;const Ve={class:"page"},$e={class:"panel"},Fe={style:{"text-align":"right"}};function Ue(e,t,a,i,o,r){const c=Object(s["B"])("Employee");return Object(s["u"])(),Object(s["g"])("div",Ve,[Object(s["h"])("div",$e,[Object(s["h"])("table",null,[Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("th",null,Object(s["D"])(o.text.EmpPage_Employee),1),Object(s["h"])("th",null,Object(s["D"])(o.text.EmpPage_Pin),1),Object(s["h"])("th",Fe,Object(s["D"])(o.text.EmpPage_Edit),1)])]),Object(s["h"])("tbody",null,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.employees,e=>(Object(s["u"])(),Object(s["g"])("tr",{key:e.rerender},[Object(s["j"])(c,{currentId:e.id,currentUsername:e.username,currentPincode:e.pincode,isNew:e.isNew,onGetEmployees:r.getEmployees,onAddEmployees:r.addEmployees,onUpdateEmployees:r.updateEmployees,onDeleteEmployees:r.deleteEmployees},null,8,["currentId","currentUsername","currentPincode","isNew","onGetEmployees","onAddEmployees","onUpdateEmployees","onDeleteEmployees"])]))),128))])])]),Object(s["h"])("button",{onClick:t[0]||(t[0]=(...e)=>r.addRow&&r.addRow(...e))},Object(s["D"])(o.text.EmpPage_Add),1)])}const Ye="http://178.62.217.137/api/employee";var qe={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getEmployees(){var e;try{e=await l.a.get(Ye,this.getHeaders())}catch(t){e=t.response}return{success:e.data["success"],message:e.data["message"],employees:e.data["data"]["employees"]}},async postEmployees(e){var t;try{return t=await l.a.post(Ye,e,this.getHeaders()),{success:201===t.status}}catch(a){return t=a.response,{success:t.data["success"],message:t.data["message"]}}},async putEmployees(e){var t;try{return t=await l.a.put(`${Ye}/${e.id}`,e,this.getHeaders()),{success:204===t.status}}catch(a){return t=a.response,{success:t.data["success"],message:t.data["message"]}}},async deleteEmployees(e){var t;try{return t=await l.a.delete(`${Ye}/${e}`,this.getHeaders()),{success:204===t.status}}catch(a){return t=a.response,{success:t.data["success"],message:t.data["message"]}}}};const ze={style:{"text-align":"right"}},Ze={style:{"text-align":"right"}};function Ge(e,t,a,i,o,r){return o.isEditing?(Object(s["u"])(),Object(s["g"])(s["a"],{key:0},[Object(s["h"])("td",null,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e)},null,512),[[s["H"],o.username]])]),Object(s["h"])("td",null,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.pincode=e)},null,512),[[s["H"],o.pincode]])]),Object(s["h"])("td",ze,[Object(s["h"])("i",{class:"icon fas fa-check",onClick:t[2]||(t[2]=(...e)=>r.handleSubmit&&r.handleSubmit(...e))}),Object(s["h"])("i",{class:"icon fas fa-times",onClick:t[3]||(t[3]=(...e)=>r.deleteEmployees&&r.deleteEmployees(...e))})])],64)):(Object(s["u"])(),Object(s["g"])(s["a"],{key:1},[Object(s["h"])("td",null,Object(s["D"])(this.username),1),Object(s["h"])("td",null,Object(s["D"])(this.pincode),1),Object(s["h"])("td",Ze,[Object(s["h"])("i",{class:"icon fas fa-edit",onClick:t[4]||(t[4]=(...e)=>r.changeToEdit&&r.changeToEdit(...e))})])],64))}var Ke={name:"Employee",emits:["addEmployees","updateEmployees","getEmployees","deleteEmployees"],data(){return{text:Z.getTextObject(),username:"",pincode:0,isEditing:!1}},props:{currentId:String,currentUsername:String,currentPincode:Number,isNew:Boolean},created(){this.username=this.currentUsername,this.pincode=this.currentPincode,this.isEditing=this.isNew},methods:{changeToEdit(){this.isEditing=!0},handleSubmit(){if(this.username.trim()&&this.pincode){if(this.isNew){const e={username:this.username,pincode:parseInt(this.pincode)};this.$emit("addEmployees",e)}else if(this.username!==this.currentUsername||this.pincode!==this.currentPincode){const e={id:this.currentId,username:this.username,pincode:parseInt(this.pincode)};this.$emit("updateEmployees",e)}this.isEditing=!1}else je.showErrorNotification(this.text.EmpComp_FieldErr)},deleteEmployees(){if(this.isNew)this.$emit("getEmployees");else{if(!confirm(this.text.EmpComp_DelConfirm+this.username))return;this.isEditing=!1,this.$emit("deleteEmployees",this.currentId)}}}};a("a04c");const Je=m()(Ke,[["render",Ge],["__scopeId","data-v-03f1b281"]]);var Xe=Je,Qe={data(){return{text:Z.getTextObject(),employees:[],isCreating:!1}},created(){this.getEmployees()},components:{Employee:Xe},methods:{async getEmployees(){const e=await qe.getEmployees();e.success?(this.employees=e.employees,this.employees.forEach((function(e){e.rerender=!1}))):je.showErrorNotification(e.message),this.isCreating=!1},async addEmployees(e){if(this.doesEmployeesListContainUsername(e.username))je.showErrorNotification(this.text.EmpPage_Err1);else if(e.pincode<1111||e.pincode>9999)je.showErrorNotification(this.text.EmpPage_Err2);else{const t=await qe.postEmployees(e);t.success?je.showSuccessNotification(e.username+" "+this.text.EmpPage_Succes1):je.showErrorNotification(t.message)}await this.getEmployees()},async updateEmployees(e){if(this.doesEmployeesListContainUsername(e.username,e.id))je.showErrorNotification(this.text.EmpPage_Err1);else if(e.pincode<1111||e.pincode>9999)je.showErrorNotification(this.text.EmpPage_Err2);else{const t=await qe.putEmployees(e);t.success?je.showSuccessNotification(e.username+" "+this.text.EmpPage_Succes2):je.showErrorNotification(t.message)}await this.getEmployees();var t=this.employees.find(t=>t.id===e.id);t.rerender=!t.rerender},async deleteEmployees(e){const t=await qe.deleteEmployees(e);t.success?await this.getEmployees():je.showErrorNotification(t.message)},addRow(){this.isCreating||(this.employees.push({id:"",username:"",pincode:"",isNew:!0}),this.isCreating=!0)},doesEmployeesListContainUsername(e,t){return this.employees.some(a=>a.username===e&&a.id!==t)}}};a("dacb");const et=m()(Qe,[["render",Ue],["__scopeId","data-v-05dc48d1"]]);var tt=et;const at={class:"page"},st={class:"panel"},it={class:"categories-box"},ot={class:"box-title"},rt={key:0,class:"categories"},ct={key:1,class:"box-message"},nt={id:"bottom-categories"},dt={class:"products-box"},lt={class:"box-title"},gt={key:0,class:"products"},ut={key:1,class:"box-message"},ht={key:2,class:"box-message"},bt={key:3,class:"box-message"},mt={class:"buttons-box"};function pt(e,t,a,i,o,r){const c=Object(s["B"])("Category"),n=Object(s["B"])("Product");return Object(s["u"])(),Object(s["g"])("div",at,[Object(s["h"])("div",st,[Object(s["h"])("div",it,[Object(s["h"])("h1",ot,Object(s["D"])(o.text.MenuPage_Categories),1),o.categories.length?(Object(s["u"])(),Object(s["g"])("div",rt,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.categories.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),e=>(Object(s["u"])(),Object(s["e"])(c,{key:e.id,id:e.id,name:e.name,childCategories:e.childCategories.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),otherIsSelected:r.isOtherCategorySelected(e.id),isVisible:e.visible,onSelectCategory:r.selectCategory},null,8,["id","name","childCategories","otherIsSelected","isVisible","onSelectCategory"]))),128))])):(Object(s["u"])(),Object(s["g"])("h1",ct,Object(s["D"])(o.text.MenuPage_CatExist),1)),Object(s["h"])("div",nt,[Object(s["h"])("button",{class:Object(s["p"])("byProducts"===o.selectedCategory?"categories by-products category-selected":"categories by-products"),onClick:t[0]||(t[0]=(...e)=>r.selectByProductCategory&&r.selectByProductCategory(...e))},Object(s["D"])(o.text.MenuPage_ByProduct),3),Object(s["h"])("button",{class:Object(s["p"])("archive"===o.selectedCategory?"categories last-item category-selected":"categories last-item"),onClick:t[1]||(t[1]=(...e)=>r.selectArchivedCategory&&r.selectArchivedCategory(...e))},Object(s["D"])(o.text.MenuPage_Archive),3)])]),Object(s["h"])("div",dt,[Object(s["h"])("h1",lt,Object(s["D"])(o.text.MenuPage_Products),1),o.selectedProducts.length?(Object(s["u"])(),Object(s["g"])("div",gt,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.selectedProducts.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),e=>(Object(s["u"])(),Object(s["e"])(n,{key:e.id,id:e.id,name:e.name,description:e.description,image:e.image},null,8,["id","name","description","image"]))),128))])):o.selectedCategory?o.categories.find(e=>e.id===o.selectedCategory)&&o.categories.find(e=>e.id===o.selectedCategory).childCategories.length?(Object(s["u"])(),Object(s["g"])("h1",ht,Object(s["D"])(o.text.MenuPage_SelChild),1)):o.selectedProducts.length?Object(s["f"])("",!0):(Object(s["u"])(),Object(s["g"])("h1",bt,Object(s["D"])(o.text.MenuPage_CatEmpty),1)):(Object(s["u"])(),Object(s["g"])("h1",ut,Object(s["D"])(o.text.MenuPage_SelCat),1))])]),Object(s["h"])("div",mt,[Object(s["h"])("button",{class:"add-button",onClick:t[2]||(t[2]=(...e)=>r.redirectToCategory&&r.redirectToCategory(...e))},Object(s["D"])(o.text.MenuPage_AddCat),1),Object(s["h"])("button",{class:"add-button",onClick:t[3]||(t[3]=(...e)=>r.redirectToProduct&&r.redirectToProduct(...e))},Object(s["D"])(o.text.MenuPage_AddProd),1)])])}const Ot=["onClick","onDblclick"];function jt(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])(s["a"],null,[Object(s["h"])("div",{class:Object(s["p"])({"head-category head-category-selected":this.isSelected,"head-category":!this.isSelected,"head-category categorie-invisible":!this.isVisible}),onClick:t[0]||(t[0]=(...e)=>r.selectHeadCategory&&r.selectHeadCategory(...e)),onDblclick:t[1]||(t[1]=e=>r.redirectToCategory(this.id))},Object(s["D"])(a.name),35),o.isSelected?(Object(s["u"])(!0),Object(s["g"])(s["a"],{key:0},Object(s["A"])(a.childCategories,e=>(Object(s["u"])(),Object(s["g"])("div",{key:e.id,class:Object(s["p"])({"child-category child-category-selected":e.selected,"child-category":!e.selected,"child-category categorie-invisible":!e.visible}),onClick:t=>r.selectChildCategory(e),onDblclick:t=>r.redirectToCategory(e.id)},Object(s["D"])(e.name),43,Ot))),128)):Object(s["f"])("",!0)],64)}var yt={name:"Category",emits:["selectCategory"],data(){return{isSelected:!1}},props:{id:String,name:String,childCategories:Array,otherIsSelected:Boolean,isVisible:Boolean},watch:{otherIsSelected(){this.otherIsSelected&&(this.isSelected=!1,this.deselectAllChildCategories())}},methods:{selectHeadCategory(){this.childCategories.some(e=>e.selected)||this.isSelected||(this.isSelected=!0,this.$emit("selectCategory",this.id))},selectChildCategory(e){this.deselectAllChildCategories(),e.selected=!0,this.$emit("selectCategory",e.id)},deselectAllChildCategories(){this.childCategories.forEach(e=>e.selected=!1)},redirectToCategory(e){this.$router.push("category?id="+e)}}};a("0615");const Pt=m()(yt,[["render",jt],["__scopeId","data-v-0bdb7335"]]);var ft=Pt;const vt={class:"product"},_t=["src"],Ct={class:"product-info"},wt={class:"text"},St={class:"text"};function Tt(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",vt,[Object(s["h"])("img",{src:this.image?this.image:"https://p.kindpng.com/picc/s/79-798754_hoteles-y-centros-vacacionales-dish-placeholder-hd-png.png"},null,8,_t),Object(s["h"])("div",Ct,[Object(s["h"])("b",wt,Object(s["D"])(a.name),1),Object(s["h"])("label",St,Object(s["D"])(a.description),1),Object(s["h"])("label",{class:"edit",onClick:t[0]||(t[0]=(...e)=>r.redirectToProduct&&r.redirectToProduct(...e))},Object(s["D"])(o.text.ProdComp_Edit),1)])])}var xt={data(){return{text:Z.getTextObject()}},name:"Product",props:{id:String,name:String,description:String,image:String},methods:{redirectToProduct(){this.$router.push("product?id="+this.id)}}};a("6f0c");const Et=m()(xt,[["render",Tt],["__scopeId","data-v-16d7b85c"]]);var Dt=Et;const kt="http://178.62.217.137/api/category";var At={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getCategories(){var e;try{e=await l.a.get(kt,this.getHeaders())}catch(t){e=t.response}return{success:e.data["success"],message:e.data["message"],categories:e.data["data"]["categories"]}},async getCategoryById(e){var t;try{t=await l.a.get(`${kt}/${e}`,this.getHeaders())}catch(a){t=a.response}return{success:t.data["success"],message:t.data["message"],category:t.data["data"]["category"]}},async postCategory(e){var t;try{t=await l.a.post(kt,e,this.getHeaders())}catch(a){t=a.response,console.log(a)}return{success:201===t.status}},async putCategory(e){var t;try{t=await l.a.put(`${kt}/${e.id}`,e,this.getHeaders())}catch(a){t=a.response,console.log(a)}return{success:204===t.status}},async deleteCategory(e){var t;try{t=await l.a.delete(`${kt}/${e}`,this.getHeaders())}catch(a){t=a.response,console.log(a)}return{success:201===t.status}}};const It="http://178.62.217.137/api/product";var Rt={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getProducts(){var e;try{e=await l.a.get(It,this.getHeaders())}catch(t){e=t.response}return{success:e.data["success"],message:e.data["message"],products:e.data["data"]["products"]}},async getProductById(e){var t;try{t=await l.a.get(`${It}/${e}`,this.getHeaders())}catch(a){t=a.response}return{success:t.data["success"],message:t.data["message"],product:t.data["data"]["product"]}},async postProduct(e){var t;try{t=await l.a.post(It,e,this.getHeaders())}catch(a){t=a.response}return{success:201===t.status}},async putProduct(e){var t;try{t=await l.a.put(`${It}/${e.id}`,e,this.getHeaders())}catch(a){t=a.response}return{success:204===t.status}},async deleteProduct(e){var t;try{t=await l.a.delete(`${It}/${e}`,this.getHeaders())}catch(a){t=a.response}return{success:204===t.success}}},Nt={data(){return{text:Z.getTextObject(),categories:[],products:[],selectedCategory:"",selectedProducts:[]}},components:{Category:ft,Product:Dt},created(){this.getCategories(),this.getProducts()},methods:{async getCategories(){const e=await At.getCategories();e.success?(this.categories=e.categories.filter(e=>!e.parentCategories.length),this.categories.forEach(e=>{e.childCategories.forEach(e=>{e.selected=!1})})):je.showErrorNotification(e.message)},async getProducts(){const e=await Rt.getProducts();e.success?this.products=e.products:je.showErrorNotification(e.message)},selectCategory(e){this.selectedCategory=e,this.selectedProducts=this.products.filter(t=>t.categories.some(t=>t===e))},selectByProductCategory(){this.selectedCategory="byProducts",this.selectedProducts=this.products.filter(e=>e.canBeServedAsByProduct)},selectArchivedCategory(){this.selectedCategory="archive",this.selectedProducts=this.products.filter(e=>!e.categories.length&&!e.canBeServedAsByProduct)},isOtherCategorySelected(e){const t=this.categories.find(({id:t})=>t===e).childCategories;return!!this.selectedCategory&&(this.selectedCategory!==e&&(0===t.length||!t.some(e=>e.id===this.selectedCategory)))},redirectToCategory(){this.$router.push("category")},redirectToProduct(){this.categories.length?this.$router.push("product"):je.showErrorNotification(this.text.LoginPage_FieldErr)}}};a("4170");const Ht=m()(Nt,[["render",pt],["__scopeId","data-v-a43edca0"]]);var Lt=Ht;const Bt={class:"panel-side"},Mt={class:"product-property"},Wt={class:"property-title"},Vt=["placeholder"],$t={class:"product-property"},Ft={class:"property-title"},Ut=["placeholder"],Yt={class:"product-property"},qt={class:"property-title"},zt=["placeholder"],Zt={class:"product-property"},Gt={class:"property-title"},Kt=["placeholder"],Jt={class:"product-property"},Xt={class:"property-title"},Qt={class:"product-property"},ea={class:"property-title"},ta={class:"product-property"},aa={class:"property-title"},sa={id:"buttons"},ia=["value"],oa={class:"panel-side"},ra={class:"product-property"},ca={class:"property-title"},na={class:"property-list"},da=["onUpdate:modelValue"],la=["onUpdate:modelValue"],ga={value:!0},ua={value:!1},ha={class:"list-search"},ba=["placeholder"],ma={class:"product-property"},pa={class:"property-title"},Oa={class:"property-list"},ja=["onUpdate:modelValue"],ya={class:"list-search"},Pa=["placeholder"],fa={class:"product-property"},va={class:"property-title"},_a={class:"property-list"},Ca=["onUpdate:modelValue"],wa={class:"product-property"},Sa={class:"property-title"},Ta={class:"property-list"},xa=["onUpdate:modelValue"];function Ea(e,t,a,i,o,r){const c=Object(s["B"])("ImagePreview");return Object(s["u"])(),Object(s["g"])("form",{id:"panel",onSubmit:t[14]||(t[14]=(...e)=>r.onSubmit&&r.onSubmit(...e))},[Object(s["h"])("div",Bt,[Object(s["h"])("div",Mt,[Object(s["h"])("label",Wt,Object(s["D"])(o.text.ProdPage_Title),1),Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),type:"text",placeholder:o.text.ProdPage_PlaceHolderName},null,8,Vt),[[s["H"],o.name]])]),Object(s["h"])("div",$t,[Object(s["h"])("label",Ft,Object(s["D"])(o.text.ProdPage_Description),1),Object(s["L"])(Object(s["h"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.description=e),placeholder:o.text.ProdPage_PlaceHolderDescription},null,8,Ut),[[s["H"],o.description]])]),Object(s["h"])("div",Yt,[Object(s["h"])("label",qt,Object(s["D"])(o.text.ProdPage_Price),1),Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.price=e),type:"number",placeholder:o.text.ProdPage_PlaceHolderPrice,step:"any"},null,8,zt),[[s["H"],o.price]])]),Object(s["h"])("div",Zt,[Object(s["h"])("label",Gt,Object(s["D"])(o.text.ProdPage_Discount),1),Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.discountPrice=e),type:"number",placeholder:o.text.ProdPage_PlaceHolderDiscount,step:"any"},null,8,Kt),[[s["H"],o.discountPrice]])]),Object(s["h"])("div",Jt,[Object(s["h"])("div",null,[Object(s["h"])("label",Xt,Object(s["D"])(o.text.ProdPage_Alcohol),1),Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.alcohol=e),type:"checkbox"},null,512),[[s["F"],o.alcohol]])])]),Object(s["h"])("div",Qt,[Object(s["h"])("div",null,[Object(s["h"])("label",ea,Object(s["D"])(o.text.ProdPage_IsByProduct),1),Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.canBeServedAsByProduct=e),type:"checkbox",onClick:t[6]||(t[6]=e=>o.byProducts.forEach(e=>e.selected=!1))},null,512),[[s["F"],o.canBeServedAsByProduct]])])]),Object(s["h"])("div",ta,[Object(s["h"])("label",aa,Object(s["D"])(o.text.ProdPage_Image),1),Object(s["j"])(c,{ref:"image"},null,512)]),Object(s["h"])("div",sa,[Object(s["h"])("input",{class:"button save",type:"submit",value:o.text.ProdPage_Save},null,8,ia),Object(s["h"])("button",{class:"button delete",onClick:t[7]||(t[7]=(...e)=>r.deleteProduct&&r.deleteProduct(...e))},Object(s["D"])(o.text.ProdPage_Delete),1)])]),Object(s["h"])("div",oa,[Object(s["h"])("div",ra,[Object(s["h"])("label",ca,Object(s["D"])(o.text.ProdPage_Ingredients),1),Object(s["h"])("div",na,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.displayIngredients.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),e=>(Object(s["u"])(),Object(s["g"])("div",{class:"list-entry",key:e.id},[Object(s["L"])(Object(s["h"])("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t},null,8,da),[[s["F"],e.selected]]),Object(s["h"])("label",null,Object(s["D"])(e.name),1),e.selected?Object(s["L"])((Object(s["u"])(),Object(s["g"])("select",{key:0,"onUpdate:modelValue":t=>e.required=t},[Object(s["h"])("option",ga,Object(s["D"])(o.text.ProdPage_Required),1),Object(s["h"])("option",ua,Object(s["D"])(o.text.ProdPage_NotRequired),1)],8,la)),[[s["G"],e.required]]):Object(s["f"])("",!0)]))),128))]),Object(s["h"])("div",ha,[Object(s["L"])(Object(s["h"])("input",{type:"text",onInput:t[8]||(t[8]=(...e)=>r.searchIngredients&&r.searchIngredients(...e)),placeholder:o.text.ProdPage_PlaceHolderSearchIngredient,"onUpdate:modelValue":t[9]||(t[9]=e=>o.ingredient=e)},null,40,ba),[[s["H"],o.ingredient]]),Object(s["h"])("button",{class:"button",onClick:t[10]||(t[10]=(...e)=>r.createIngredient&&r.createIngredient(...e))},Object(s["D"])(o.text.ProdPage_Add),1)])]),Object(s["h"])("div",ma,[Object(s["h"])("label",pa,Object(s["D"])(o.text.ProdPage_Tags),1),Object(s["h"])("div",Oa,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.displayTags.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),e=>(Object(s["u"])(),Object(s["g"])("div",{class:"list-entry",key:e.id},[Object(s["L"])(Object(s["h"])("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t},null,8,ja),[[s["F"],e.selected]]),Object(s["h"])("label",null,Object(s["D"])(e.name),1)]))),128))]),Object(s["h"])("div",ya,[Object(s["L"])(Object(s["h"])("input",{type:"text",onInput:t[11]||(t[11]=(...e)=>r.searchTags&&r.searchTags(...e)),placeholder:o.text.ProdPage_PlaceHolderSearchTag,"onUpdate:modelValue":t[12]||(t[12]=e=>o.tag=e)},null,40,Pa),[[s["H"],o.tag]]),Object(s["h"])("button",{class:"button",onClick:t[13]||(t[13]=(...e)=>r.createTag&&r.createTag(...e))},Object(s["D"])(o.text.ProdPage_Add),1)])]),Object(s["h"])("div",fa,[Object(s["h"])("label",va,Object(s["D"])(o.text.ProdPage_Categories),1),Object(s["h"])("div",_a,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.categories.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),e=>(Object(s["u"])(),Object(s["g"])("div",{class:"list-entry",key:e.id},[Object(s["L"])(Object(s["h"])("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t},null,8,Ca),[[s["F"],e.selected]]),Object(s["h"])("label",null,Object(s["D"])(e.name),1)]))),128))])]),Object(s["h"])("div",wa,[Object(s["h"])("label",Sa,Object(s["D"])(o.text.ProdPage_ByProducts),1),Object(s["h"])("div",Ta,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.byProducts.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),e=>(Object(s["u"])(),Object(s["g"])("div",{class:"list-entry",key:e.id},[this.canBeServedAsByProduct?Object(s["f"])("",!0):Object(s["L"])((Object(s["u"])(),Object(s["g"])("input",{key:0,type:"checkbox","onUpdate:modelValue":t=>e.selected=t},null,8,xa)),[[s["F"],e.selected]]),Object(s["h"])("label",null,Object(s["D"])(e.name),1)]))),128))])])])],32)}const Da=["src"],ka={for:"file-upload",id:"upload",class:"custom-file-upload"};function Aa(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",null,[Object(s["h"])("img",{id:"preview",src:o.base64},null,8,Da),Object(s["h"])("label",ka,Object(s["D"])(o.text.ImgPrev_UploadImage),1),Object(s["h"])("input",{onInput:t[0]||(t[0]=(...e)=>r.previewImage&&r.previewImage(...e)),ref:"fileInput",type:"file",accept:"image/png, image/gif, image/jpeg",id:"file-upload"},null,544)])}var Ia={name:"ImagePreview",data(){return{text:Z.getTextObject(),base64:null}},methods:{lazyLoad(){let e=this.$refs.fileInput,t=e.files;if(t&&t[0]){let e=new FileReader;e.onload=e=>{console.log(e),this.base64=e.target.result},e.onerror=e=>{console.log(e)},e.readAsBinaryString(t[0]),this.$emit("input",t[0])}},previewImage(){let e=this.$refs.fileInput,t=e.files;if(t&&t[0]){let e=new FileReader;e.onload=e=>{this.base64=e.target.result},e.readAsDataURL(t[0]),this.$emit("input",t[0])}},async setBase64(e){this.base64=e}}};a("4d1f");const Ra=m()(Ia,[["render",Aa],["__scopeId","data-v-42566cd6"]]);var Na=Ra;const Ha="http://178.62.217.137/api/tag";var La={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getTags(){var e;try{e=await l.a.get(Ha,this.getHeaders())}catch(t){e=t.response}return{success:e.data["success"],message:e.data["message"],tags:e.data["data"]["tags"]}},async getTagById(e){var t;try{t=await l.a.get(`${Ha}/${e}`,this.getHeaders())}catch(a){t=a.response}return{success:t.data["success"],message:t.data["message"],tag:t.data["data"]["tag"]}},async postTag(e){var t;try{t=await l.a.post(Ha,e,this.getHeaders())}catch(a){t=a.response}return{success:201===t.status}}};const Ba="http://178.62.217.137/api/ingredient";var Ma={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getIngredients(){var e;try{e=await l.a.get(Ba,this.getHeaders())}catch(t){e=t.response}return{success:e.data["success"],message:e.data["message"],ingredients:e.data["data"]["ingredients"]}},async getIngredientById(e){var t;try{t=await l.a.get(`${Ba}/${e}`,this.getHeaders())}catch(a){t=a.response}return{success:t.data["success"],message:t.data["message"],ingredient:t.data["data"]["ingredient"]}},async postIngredient(e){var t;try{t=await l.a.post(Ba,e,this.getHeaders())}catch(a){t=a.response}return{success:201===t.status}}},Wa={data(){return{text:Z.getTextObject(),id:"",isEditing:!1,name:"",description:"",price:0,discountPrice:0,alcohol:!1,canBeServedAsByProduct:!1,tag:"",ingredient:"",categories:[],byProducts:[],displayTags:[],tags:[],displayIngredients:[],ingredients:[]}},components:{ImagePreview:Na},async created(){await this.getCategories(),await this.getByProducts(),await this.getTags(),await this.getIngredients(),this.displayTags=this.tags,this.displayIngredients=this.ingredients,this.id=this.$route.query.id,this.id&&(this.isEditing=!0,this.getProductInfo())},methods:{async getCategories(){const e=await At.getCategories();this.categories=e.categories.filter(e=>!e.childCategories.length),this.categories.forEach((function(e){e.selected=!1}))},async getByProducts(){const e=await Rt.getProducts();this.byProducts=e.products.filter(e=>e.canBeServedAsByProduct),this.byProducts.forEach((function(e){e.selected=!1}))},async getTags(){const e=await La.getTags();this.tags=e.tags,this.tags.forEach((function(e){e.selected=!1}))},async getIngredients(){const e=await Ma.getIngredients();this.ingredients=e.ingredients,this.ingredients.forEach((function(e){e.selected=!1,e.required=!1}))},async getProductInfo(){const e=await Rt.getProductById(this.id);this.setProductValues(e.product)},setProductValues(e){this.id=e.id,this.name=e.name,this.description=e.description,this.price=e.price,this.discountPrice=e.discountPrice,this.alcohol=e.containsAlcohol,this.canBeServedAsByProduct=e.canBeServedAsByProduct,this.categories.forEach((function(t){e.categories.some(e=>e===t.id)&&(t.selected=!0)})),this.byProducts.forEach((function(t,a,s){e.id===t.id&&(console.log("ait"),s.splice(a,1)),e.byProducts.some(e=>e===t.id)&&(t.selected=!0)})),this.tags.forEach((function(t){e.tags.some(e=>e.id===t.id)&&(t.selected=!0)})),this.displayTags=this.tags,console.log(this.ingredients),console.log(e.ingredients),this.ingredients.forEach((function(t){e.ingredients.some(e=>e.id===t.id)&&(t.selected=!0,t.required=e.ingredients.find(e=>e.id===t.id).required)})),this.displayIngredients=this.ingredients,e.image&&this.$refs.image.setBase64(e.image)},onSubmit(e){e.preventDefault(),this.name&&this.price?(this.isEditing?this.updateProduct():this.addProduct(),this.resetValues(),this.$router.push("product")):je.showErrorNotification(this.text.ProdPage_FieldErr)},async addProduct(){const e=new Map;this.ingredients.filter(e=>e.selected).map(e=>e.id).forEach(t=>e.set(t,t.required));const t={name:this.name,price:this.price,discountPrice:this.discountPrice,description:this.description,containsAlcohol:this.alcohol,canBeServedAsByProduct:this.canBeServedAsByProduct,image:this.$refs.image.base64,categories:this.categories.filter(e=>e.selected).map(e=>e.id),byProducts:this.byProducts.filter(e=>e.selected).map(e=>e.id),tags:this.tags.filter(e=>e.selected).map(e=>e.id),ingredients:Object.fromEntries(e)},a=await Rt.postProduct(t);a.success?je.showSuccessNotification(t.name+" "+this.text.ProdPage_SuccesAdd):je.showErrorNotification(a.message)},async updateProduct(){const e=new Map;this.ingredients.filter(e=>e.selected).forEach(t=>e.set(t.id,t.required));const t={id:this.id,name:this.name,description:this.description,price:this.price,discountPrice:this.discountPrice,containsAlcohol:this.alcohol,canBeServedAsByProduct:this.canBeServedAsByProduct,image:this.$refs.image.base64,categories:this.categories.filter(e=>e.selected).map(e=>e.id),byProducts:this.byProducts.filter(e=>e.selected).map(e=>e.id),tags:this.tags.filter(e=>e.selected).map(e=>e.id),ingredients:Object.fromEntries(e)},a=await Rt.putProduct(t);a.success?je.showSuccessNotification(t.name+" "+this.text.ProdPage_SuccesUpdate):je.showErrorNotification(a.message)},async createTag(e){if(e.preventDefault(),this.tags.some(e=>e.name.toLowerCase()===this.tag.toLowerCase()))je.showErrorNotification(this.text.ProdPage_AlreadyExistTag);else{var t=await La.postTag({name:this.tag});if(t.success){this.tag="";var a=this.tags.filter(e=>e.selected).map(e=>e.id);await this.getTags(),this.tags.forEach(e=>{a.some(t=>t===e.id)&&(e.selected=!0)}),this.displayTags=this.tags}else je.showErrorNotification(t.message)}},async searchTags(){this.displayTags=this.tags.filter(e=>e.name.toLowerCase().includes(this.tag.toLowerCase()))},async createIngredient(e){if(e.preventDefault(),this.ingredients.some(e=>e.name.toLowerCase()===this.ingredient.toLowerCase()))je.showErrorNotification(this.text.ProdPage_AlreadyExistIngredient);else{var t=await Ma.postIngredient({name:this.ingredient});if(t.success){this.ingredient="";var a=this.ingredients.filter(e=>e.selected).map(e=>e.id);await this.getIngredients(),this.ingredients.forEach(e=>{a.some(t=>t===e.id)&&(e.selected=!0)}),this.displayIngredients=this.ingredients}else je.showErrorNotification(t.message)}},async searchIngredients(){this.displayIngredients=this.ingredients.filter(e=>e.name.toLowerCase().includes(this.ingredient.toLowerCase()))},async deleteProduct(e){e.preventDefault(),this.isEditing?confirm(this.name+" "+this.text.ProdPage_ConfirmDelete)&&(await Rt.deleteProduct(this.id),this.$router.push("menu"),je.showSuccessNotification(this.name+" "+this.text.ProdPage_DeleteSucces),this.resetValues()):this.$router.push("menu")},async resetValues(){await this.getByProducts(),this.id="",this.isEditing=!1,this.name="",this.description="",this.price=0,this.discountPrice=0,this.alcohol=!1,this.canBeServedAsByProduct=!1,this.categories.forEach((function(e){e.selected=!1})),this.byProducts.forEach((function(e){e.selected=!1})),this.tags.forEach((function(e){e.selected=!1})),this.displayTags=this.tags,this.ingredients.forEach((function(e){e.selected=!1,e.required=!1})),this.displayIngredients=this.ingredients,this.$refs.image.setBase64(null)}}};a("aeea");const Va=m()(Wa,[["render",Ea],["__scopeId","data-v-76062863"]]);var $a=Va;const Fa={class:"panel-side"},Ua={class:"panel-section"},Ya=["placeholder"],qa={style:{"margin-bottom":"5px"}},za={class:"isVisible"},Za={class:"panel-section"},Ga={class:"panel-side"},Ka={class:"panel-section"},Ja={id:"categories"},Xa=["onUpdate:modelValue"],Qa={id:"buttons"},es=["value"];function ts(e,t,a,i,o,r){const c=Object(s["B"])("ImagePreview");return Object(s["u"])(),Object(s["g"])("form",{id:"panel",onSubmit:t[3]||(t[3]=(...e)=>r.onSubmit&&r.onSubmit(...e))},[Object(s["h"])("div",Fa,[Object(s["h"])("div",Ua,[Object(s["h"])("label",null,Object(s["D"])(o.text.CatPage_Name),1),Object(s["L"])(Object(s["h"])("input",{placeholder:o.text.CatPage_PlaceHolder_Name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),type:"text"},null,8,Ya),[[s["H"],o.name]])]),Object(s["h"])("div",qa,[Object(s["h"])("label",za,Object(s["D"])(o.text.CatPage_Visible),1),Object(s["L"])(Object(s["h"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>o.visible=e)},null,512),[[s["F"],o.visible]])]),Object(s["h"])("div",Za,[Object(s["h"])("label",null,Object(s["D"])(o.text.CatPage_Image),1),Object(s["j"])(c,{ref:"image"},null,512)])]),Object(s["h"])("div",Ga,[Object(s["h"])("div",Ka,[Object(s["h"])("label",null,Object(s["D"])(o.text.CatPage_Parent),1),Object(s["h"])("div",Ja,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.filteredCategories.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0),e=>(Object(s["u"])(),Object(s["g"])("div",{class:"category",key:e.id},[Object(s["L"])(Object(s["h"])("input",{type:"checkbox","onUpdate:modelValue":t=>e.selected=t},null,8,Xa),[[s["F"],e.selected]]),Object(s["h"])("label",null,Object(s["D"])(e.name),1)]))),128))])]),Object(s["h"])("div",Qa,[Object(s["h"])("input",{class:"button",id:"save",type:"submit",value:o.text.CatPage_Save},null,8,es),Object(s["h"])("button",{class:"button",id:"delete",onClick:t[2]||(t[2]=(...e)=>r.deleteCategory&&r.deleteCategory(...e))},Object(s["D"])(o.text.CatPage_Delete),1)])])],32)}var as={data(){return{text:Z.getTextObject(),id:"",isEditing:!1,name:"",visible:!0,filteredCategories:[],allCategories:[]}},components:{ImagePreview:Na},async created(){this.id=this.$route.query.id,await this.getAllCategories(),this.id&&(this.isEditing=!0,this.getCategoryInfo())},methods:{async getAllCategories(){const e=await At.getCategories();this.allCategories=e.categories,this.filteredCategories=e.categories.filter(e=>!e.parentCategories.length&&this.id!==e.id),this.filteredCategories.forEach((function(e){e.selected=!1}))},async getCategoryInfo(){const e=await At.getCategoryById(this.id);this.setCategoryValues(e.category)},setCategoryValues(e){this.visible=e.visible,this.id=e.id,this.name=e.name,console.log(e.parentCategories),console.log(this.filteredCategories),this.filteredCategories.forEach((function(t){e.parentCategories.some(e=>e===t.id)&&(t.selected=!0)})),e.image&&this.$refs.image.setBase64(e.image)},async onSubmit(e){e.preventDefault(),this.name?this.filteredCategories.some(e=>e.name.toLowerCase()===this.name.toLowerCase())?je.showErrorNotification(this.text.CatPage_Err2):(this.isEditing?await this.updateCategory():await this.addCategory(),this.resetValues(),this.getAllCategories(),this.$router.push("category")):je.showErrorNotification(this.text.CatPage_Err1)},async addCategory(){const e={name:this.name,image:this.$refs.image.base64,parentCategories:this.filteredCategories.filter(e=>e.selected).map(e=>e.id),visible:this.visible},t=await At.postCategory(e);t.success?je.showSuccessNotification(e.name+" "+this.text.CatPage_Succes1):je.showErrorNotification(t.message)},async updateCategory(){const e={id:this.id,name:this.name,image:this.$refs.image.base64,parentCategories:this.filteredCategories.filter(e=>e.selected).map(e=>e.id),visible:this.visible},t=await At.putCategory(e);t.success?je.showSuccessNotification(e.name+" "+this.text.CatPage_Succes2):je.showErrorNotification(t.message)},async deleteCategory(e){e.preventDefault(),this.isEditing?confirm(this.name+" "+this.text.CatPage_DelConfirm)&&(await At.deleteCategory(this.id),this.$router.push("menu"),je.showSuccessNotification(this.name+" "+this.text.CatPage_DelSucces),this.resetValues()):this.$router.push("menu")},resetValues(){this.id="",this.name="",this.visible=!0,this.filteredCategories.forEach((function(e){e.selected=!1})),this.$refs.image.setBase64(null)}}};a("2a52");const ss=m()(as,[["render",ts],["__scopeId","data-v-5ad4b997"]]);var is=ss;const os=e=>(Object(s["x"])("data-v-d00e316c"),e=e(),Object(s["v"])(),e),rs={class:"page"},cs={class:"panel"},ns=os(()=>Object(s["h"])("th",null,"Robot",-1)),ds=os(()=>Object(s["h"])("th",null,"Id",-1)),ls={style:{"text-align":"right"}};function gs(e,t,a,i,o,r){const c=Object(s["B"])("Robot");return Object(s["u"])(),Object(s["g"])("div",rs,[Object(s["h"])("div",cs,[Object(s["h"])("table",null,[Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[ns,ds,Object(s["h"])("th",ls,Object(s["D"])(o.text.RobotPage_Edit),1)])]),Object(s["h"])("tbody",null,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.robots,e=>(Object(s["u"])(),Object(s["g"])("tr",{key:e.rerender},[Object(s["j"])(c,{currentId:e.id,currentName:e.name,isNew:e.isNew,onGetRobots:r.getRobots,onAddRobot:r.addRobot,onUpdateRobot:r.updateRobot,onDeleteRobot:r.deleteRobot},null,8,["currentId","currentName","isNew","onGetRobots","onAddRobot","onUpdateRobot","onDeleteRobot"])]))),128))])])]),Object(s["h"])("button",{onClick:t[0]||(t[0]=(...e)=>r.addRow&&r.addRow(...e))},Object(s["D"])(o.text.RobotPage_Add),1)])}const us="http://178.62.217.137/api/robot";var hs={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getRobots(){var e;try{e=await l.a.get(us,this.getHeaders())}catch(t){e=t.response}return{success:e.data["success"],message:e.data["message"],robots:e.data["data"]["robots"]}},async postRobot(e){var t;try{return t=await l.a.post(us,e,this.getHeaders()),{success:201===t.status}}catch(a){return t=a.response,{success:t.data["success"],message:t.data["message"]}}},async putRobot(e){var t;try{return t=await l.a.put(`${us}/${e.id}`,e,this.getHeaders()),{success:204===t.status}}catch(a){return t=a.response,{success:t.data["success"],message:t.data["message"]}}},async deleteRobot(e){var t;try{return t=await l.a.delete(`${us}/${e}`,this.getHeaders()),{success:204===t.status}}catch(a){return t=a.response,{success:t.data["success"],message:t.data["message"]}}}};const bs={style:{"text-align":"right"}},ms={style:{"text-align":"right"}},ps={style:{"text-align":"right"}};function Os(e,t,a,i,o,r){return o.isEditing&&a.isNew?(Object(s["u"])(),Object(s["g"])(s["a"],{key:0},[Object(s["h"])("td",null,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e)},null,512),[[s["H"],o.name]])]),Object(s["h"])("td",null,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.id=e)},null,512),[[s["H"],o.id]])]),Object(s["h"])("td",bs,[Object(s["h"])("i",{class:"icon fas fa-check",onClick:t[2]||(t[2]=(...e)=>r.handleSubmit&&r.handleSubmit(...e))}),Object(s["h"])("i",{class:"icon fas fa-times",onClick:t[3]||(t[3]=(...e)=>r.deleteRobot&&r.deleteRobot(...e))})])],64)):o.isEditing&&!a.isNew?(Object(s["u"])(),Object(s["g"])(s["a"],{key:1},[Object(s["h"])("td",null,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.name=e)},null,512),[[s["H"],o.name]])]),Object(s["h"])("td",null,Object(s["D"])(a.currentId),1),Object(s["h"])("td",ms,[Object(s["h"])("i",{class:"icon fas fa-check",onClick:t[5]||(t[5]=(...e)=>r.handleSubmit&&r.handleSubmit(...e))}),Object(s["h"])("i",{class:"icon fas fa-times",onClick:t[6]||(t[6]=(...e)=>r.deleteRobot&&r.deleteRobot(...e))})])],64)):(Object(s["u"])(),Object(s["g"])(s["a"],{key:2},[Object(s["h"])("td",null,Object(s["D"])(this.name),1),Object(s["h"])("td",null,Object(s["D"])(this.id),1),Object(s["h"])("td",ps,[Object(s["h"])("i",{class:"icon fas fa-edit",onClick:t[7]||(t[7]=(...e)=>r.changeToEdit&&r.changeToEdit(...e))})])],64))}var js={name:"Robot",emits:["addRobot","updateRobot","getRobots","deleteRobot"],data(){return{text:Z.getTextObject(),name:"",id:"",isEditing:!1}},props:{currentName:String,currentId:String,isNew:Boolean},created(){this.name=this.currentName,this.id=this.currentId,this.isEditing=this.isNew},methods:{changeToEdit(){this.isEditing=!0},handleSubmit(){if(!this.id.trim()||!this.name.trim())return void je.showErrorNotification(this.text.RobotComp_FieldErr);const e={id:this.id,name:this.name};this.isNew?this.$emit("addRobot",e):this.name!==this.currentName&&this.$emit("updateRobot",e),this.isEditing=!1},deleteRobot(){if(this.isNew)this.$emit("getRobots");else{if(!confirm(this.text.RobotComp_Delete+this.name+" #"+this.id+"?"))return;this.isEditing=!1,this.$emit("deleteRobot",this.id)}}}};a("2863");const ys=m()(js,[["render",Os],["__scopeId","data-v-6495e55e"]]);var Ps=ys,fs={data(){return{text:Z.getTextObject(),robots:[],isCreating:!1}},created(){this.getRobots()},components:{Robot:Ps},methods:{async getRobots(){const e=await hs.getRobots();e.success?(this.robots=e.robots,this.robots.forEach((function(e){e.rerender=!1}))):je.showErrorNotification(e.message),this.isCreating=!1},async addRobot(e){if(this.doesRobotListContainId(e.id))je.showErrorNotification(this.text.RobotPage_IdExistErr);else if(this.doesRobotListContainName(e.name))je.showErrorNotification(this.text.RobotPage_NameExistErr);else{const t=await hs.postRobot(e);t.success?je.showSuccessNotification("robot #"+e.id+this.text.RobotPage_AddSuccess):je.showErrorNotification(t.message)}await this.getRobots()},async updateRobot(e){if(this.doesRobotListContainName(e.name))je.showErrorNotification(this.text.RobotPage_NameExistErr);else{const t=await hs.putRobot(e);t.success?je.showSuccessNotification("robot #"+e.id+this.text.RobotPage_UpdateSuccess):je.showErrorNotification(t.message)}await this.getRobots();var t=this.robots.find(t=>t.id===e.id);t.rerender=!t.rerender},async deleteRobot(e){const t=await hs.deleteRobot(e);t.success?await this.getRobots():je.showErrorNotification(t.message)},addRow(){this.isCreating||(this.robots.push({id:"",name:"",isNew:!0}),this.isCreating=!0)},doesRobotListContainId(e){return this.robots.some(t=>t.id===e)},doesRobotListContainName(e){return this.robots.some(t=>t.name===e)}}};a("1aae");const vs=m()(fs,[["render",gs],["__scopeId","data-v-d00e316c"]]);var _s=vs;const Cs=e=>(Object(s["x"])("data-v-9fe45ebe"),e=e(),Object(s["v"])(),e),ws={class:"page"},Ss={class:"panel"},Ts=Cs(()=>Object(s["h"])("div",{id:"map",class:"map-content"},[Object(s["h"])("canvas",{id:"canvas"})],-1)),xs=Cs(()=>Object(s["h"])("br",null,null,-1)),Es={class:"map-navigation"},Ds={class:"map-navigation-item"},ks={class:"map-navigation-item"},As={class:"map-navigation-item"},Is={class:"map-navigation-item"},Rs={id:"scaleView",ref:"scaleView"},Ns=Cs(()=>Object(s["h"])("div",{id:"scale"},"   ",-1)),Hs={id:"customScale",class:"map-navigation-item"},Ls={class:"map-navigation-item"};function Bs(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",ws,[Object(s["h"])("div",Ss,[Ts,xs,Object(s["h"])("div",Es,[Object(s["h"])("div",Ds,[Object(s["h"])("button",{onClick:t[0]||(t[0]=(...e)=>r.placeRobotStart&&r.placeRobotStart(...e))},Object(s["D"])(o.text.MapPage_RobotStart),1)]),Object(s["h"])("div",ks,[Object(s["h"])("button",{onClick:t[1]||(t[1]=(...e)=>r.placeTable&&r.placeTable(...e))},Object(s["D"])(o.text.MapPage_PlaceTable),1)]),Object(s["h"])("div",As,[Object(s["h"])("button",{onClick:t[2]||(t[2]=(...e)=>r.placeWall&&r.placeWall(...e))},Object(s["D"])(o.text.MapPage_PlaceWall),1)]),Object(s["h"])("div",Is,[Object(s["h"])("button",{class:"danger-action",onClick:t[3]||(t[3]=(...e)=>r.deleteSelected&&r.deleteSelected(...e))},Object(s["D"])(o.text.MapPage_Delete),1)]),Object(s["h"])("div",Rs,[Object(s["i"])(Object(s["D"])(o.text.MapPage_MapScale)+" ",1),Ns,Object(s["i"])(" = "+Object(s["D"])(o.customScale)+"cm ",1)],512),Object(s["h"])("div",Hs,[Object(s["i"])(Object(s["D"])(o.text.MapPage_CustomScale)+" ",1),Object(s["L"])(Object(s["h"])("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>o.customScale=e)},null,512),[[s["H"],o.customScale]])]),Object(s["h"])("div",Ls,[Object(s["h"])("button",{onClick:t[5]||(t[5]=(...e)=>r.saveScale&&r.saveScale(...e))},Object(s["D"])(o.text.MapPage_Save),1)])])])])}var Ms=a("7a94");let Ws,Vs,$s;var Fs=10;const Us="rgba(0, 93, 127, 0.7)",Ys="#003e54",qs="rgba(136, 136, 136, 0.7)",zs="#686868";var Zs={data(){return{text:Z.getTextObject(),canvasZoom:0,nummm:0,customScale:50}},mounted(){this.initCanvas(),localStorage.getItem("scale")&&(this.customScale=localStorage.getItem("scale"))},methods:{genId(){return"_"+Math.random().toString(36).substr(2,9)},saveScale(){localStorage.setItem("scale",this.customScale)},initCanvas(){Vs=document.getElementById("map").clientHeight,$s=document.getElementById("map").clientWidth;var e=50;Ws=new Ms["fabric"].Canvas("canvas",{}),Ws.setWidth($s),Ws.setHeight(Vs),localStorage.getItem("mapZoom")&&(this.canvasZoom=parseFloat(localStorage.getItem("mapZoom")),Ws.setZoom(this.canvasZoom)),Ws.on("mouse:wheel",(function(e){var t=e.e.deltaY;this.canvasZoom=Ws.getZoom(),this.canvasZoom*=.999**t,this.canvasZoom>5&&(this.canvasZoom=5),this.canvasZoom<1&&(this.canvasZoom=1),Ws.setZoom(this.canvasZoom),e.e.preventDefault(),e.e.stopPropagation(),localStorage.setItem("mapZoom",this.canvasZoom)})),Ws.on("mouse:down",()=>this.handleSave());var t=localStorage.getItem("mapConfig");t&&Ws.loadFromJSON(t);for(var a=0;a<$s/e;a++)Ws.add(new Ms["fabric"].Line([a*e,0,a*e,Vs],{type:"line",stroke:"#gray",selectable:!1,hasControl:!1})),Ws.add(new Ms["fabric"].Line([0,a*e,$s,a*e],{type:"line",stroke:"#gray",selectable:!1,hasControl:!1}));Ws.on("object:moving",(function(t){t.target.set({left:Math.round(t.target.left/e)*e,top:Math.round(t.target.top/e)*e})}))},placeRobotStart(){const e=new Ms["fabric"].Circle({radius:10,fill:"gray",left:10,right:10,top:10,id:this.genId()});Ws.add(e)},placeTable(){const e=new Ms["fabric"].Rect({width:5*Fs,height:5*Fs,fill:Us,stroke:Ys,strokeWidth:2,originX:"center",originY:"center",id:this.genId()}),t=new Ms["fabric"].IText("Table",{fontFamily:"Calibri",fontSize:14,fill:"#fff",textAlign:"center",originX:"center",originY:"center",id:this.genId()}),a=new Ms["fabric"].Group([e,t],{left:10,top:10,centeredRotation:!0,snapAngle:45,selectable:!0});Ws.add(a)},placeWall(){const e=new Ms["fabric"].Rect({left:10,top:10,width:100,height:50,fill:qs,stroke:zs,strokeWidth:2,originX:"center",originY:"center",centeredRotation:!0,snapAngle:45,selectable:!0,id:this.genId()}),t=new Ms["fabric"].IText("Wall",{fontFamily:"Calibri",fontSize:14,fill:"#fff",textAlign:"center",originX:"center",originY:"center"}),a=new Ms["fabric"].Group([e,t],{left:100,top:50,centeredRotation:!0,snapAngle:45,selectable:!0});Ws.add(a)},deleteSelected(){var e=Ws.getActiveObject();e&&(Ws.remove(e),Ws.discardActiveObject(),Ws.renderAll())},handleSave(){localStorage.setItem("mapConfig","");var e=JSON.stringify(Ws);localStorage.setItem("mapConfig",e)},exportAsYAML(){console.log("Export to yaml")}}};a("1d13");const Gs=m()(Zs,[["render",Bs],["__scopeId","data-v-9fe45ebe"]]);var Ks=Gs;const Js={id:"page"},Xs={class:"panel"},Qs={id:"time-section"},ei={id:"time-options"},ti={id:"time-select"},ai=["value","max"],si=["value","min","max"],ii={id:"data-section"},oi={class:"panel"},ri={key:0,class:"panel"},ci={id:"categories"};function ni(e,t,a,i,o,r){const c=Object(s["B"])("WeekOverview"),n=Object(s["B"])("CategoryDropdown");return Object(s["u"])(),Object(s["g"])("div",Js,[Object(s["h"])("div",Xs,[Object(s["h"])("div",Qs,[Object(s["h"])("div",ei,[Object(s["h"])("label",{onClick:t[0]||(t[0]=e=>r.setDatesByPreviousDaysAmount(7))},Object(s["D"])(o.text.OrderHisPage_Last7),1),Object(s["h"])("label",{onClick:t[1]||(t[1]=e=>r.setDatesByPreviousDaysAmount(30))},Object(s["D"])(o.text.OrderHisPage_Last30),1),Object(s["h"])("label",{onClick:t[2]||(t[2]=e=>r.setDatesByPreviousDaysAmount(90))},Object(s["D"])(o.text.OrderHisPage_Last90),1),Object(s["h"])("label",{onClick:t[3]||(t[3]=e=>r.setDatesByPreviousDaysAmount(180))},Object(s["D"])(o.text.OrderHisPage_Last180),1),Object(s["h"])("label",{onClick:t[4]||(t[4]=e=>r.setDatesByPreviousDaysAmount(365))},Object(s["D"])(o.text.OrderHisPage_Last365),1),Object(s["h"])("label",{onClick:t[5]||(t[5]=e=>r.setDefaultDateValues())},Object(s["D"])(o.text.OrderHisPage_AllTime),1)]),Object(s["h"])("div",ti,[Object(s["h"])("div",null,[Object(s["h"])("label",null,Object(s["D"])(o.text.OrderHisPage_From),1),Object(s["h"])("input",{type:"date",value:r.dateToYYYYMMDD(this.fromTemp),onInput:t[6]||(t[6]=e=>o.fromTemp=e.target.valueAsDate),max:r.dateToYYYYMMDD(this.toTemp)},null,40,ai)]),Object(s["h"])("div",null,[Object(s["h"])("label",null,Object(s["D"])(o.text.OrderHisPage_To),1),Object(s["h"])("input",{type:"date",value:r.dateToYYYYMMDD(this.toTemp),onInput:t[7]||(t[7]=e=>o.toTemp=e.target.valueAsDate),min:r.dateToYYYYMMDD(this.fromTemp),max:r.dateToYYYYMMDD(new Date)},null,40,si)])]),Object(s["h"])("button",{id:"time-apply",onClick:t[8]||(t[8]=(...e)=>r.applyDates&&r.applyDates(...e))},Object(s["D"])(o.text.OrderHisPage_Apply),1)]),Object(s["h"])("div",ii,[Object(s["h"])("label",null,[Object(s["i"])(Object(s["D"])(o.text.OrderHisPage_TotRev)+" ",1),Object(s["h"])("label",null,"€"+Object(s["D"])(r.getSumOfArray(this.orders.map(e=>e.subTotal))),1)]),Object(s["h"])("label",null,[Object(s["i"])(Object(s["D"])(o.text.OrderHisPage_TotOrders)+" ",1),Object(s["h"])("label",null,Object(s["D"])(this.orders.length),1)]),Object(s["h"])("label",null,[Object(s["i"])(Object(s["D"])(o.text.OrderHisPage_AvgOrderRev)+" ",1),Object(s["h"])("label",null,"€"+Object(s["D"])(this.orders.length?parseFloat(r.getSumOfArray(this.orders.map(e=>e.subTotal))/this.orders.length).toFixed(2):0),1)]),Object(s["h"])("label",null,[Object(s["i"])(Object(s["D"])(o.text.OrderHisPage_TotProdOrdered)+" ",1),Object(s["h"])("label",null,Object(s["D"])(this.products.length),1)])]),Object(s["h"])("label",{id:"export",onClick:t[9]||(t[9]=e=>r.exportOrderHistory())},Object(s["D"])(o.text.OrderHisPage_ExpOrderHis),1)]),Object(s["h"])("div",oi,[Object(s["j"])(c,{orders:o.orders},null,8,["orders"])]),o.categories.length?(Object(s["u"])(),Object(s["g"])("div",ri,[Object(s["h"])("div",ci,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.categories.filter(e=>e.products.length),e=>(Object(s["u"])(),Object(s["e"])(n,{key:e.rerender,category:e,orderedProducts:o.products.filter(t=>t.categories.some(t=>t===e.id))},null,8,["category","orderedProducts"]))),128))])])):Object(s["f"])("",!0)])}const di="http://178.62.217.137/api/order";var li={getHeaders(){return{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}},async getOrderHistory(){var e;try{e=await l.a.get(di,this.getHeaders())}catch(t){e=t.response}return{success:e.data["success"],message:e.data["message"],orders:e.data["data"]["orders"]}},async getOrderHistoryByDates(e,t){var a;try{a=await l.a.get(`${di}?from=${e}&to=${t}`,this.getHeaders())}catch(s){a=s.response}return{success:a.data["success"],message:a.data["message"],orders:a.data["data"]["orders"]}}},gi={convertToCSVString(e){const t=this.getExportOrdersObject(e),a=Object.keys(t[0]).join(";"),s=t.map(e=>Object.values(e).join(";")).join("\n");return`${a}\n${s}`},getExportOrdersObject(e){return e.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()).map(e=>({date:new Date(e.createdAt).toString().slice(0,24),subTotal:"€"+e.subTotal.toFixed(2),products:this.getProductsString(e.products.map(e=>e.name))}))},getProductsString(e){var t=e.filter((e,t,a)=>a.indexOf(e)==t),a=[];return t.forEach(t=>{var s=0;e.forEach(e=>{t===e&&s++}),a.push({name:t,amount:s+"x"})}),a.map(e=>Object.values(e).join(" ")).join(", ")},downloadCSVFile(e){var t="\ufeff",a=encodeURIComponent(t+e),s=document.createElement("a");s.setAttribute("href","data:text/csv;charset=utf-8,"+a),s.setAttribute("download","order_history.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}};const ui={id:"overview"},hi={key:0,id:"info"},bi={key:1,id:"info"},mi={id:"message"},pi={id:"days"};function Oi(e,t,a,i,o,r){const c=Object(s["B"])("DayColumn");return Object(s["u"])(),Object(s["g"])("div",ui,[o.selectedDay.name?(Object(s["u"])(),Object(s["g"])("div",hi,[Object(s["h"])("h1",null,Object(s["D"])(o.selectedDay.name),1),Object(s["h"])("div",null,[Object(s["h"])("label",null,[Object(s["i"])(Object(s["D"])(o.text.WeekComp_AvgTotOrder),1),Object(s["h"])("label",null,Object(s["D"])(o.selectedDay.amount?o.selectedDay.orders/o.selectedDay.amount:0),1)]),Object(s["h"])("label",null,[Object(s["i"])(Object(s["D"])(o.text.WeekComp_AvgTotRev),1),Object(s["h"])("label",null,"€"+Object(s["D"])(o.selectedDay.amount?(o.selectedDay.subTotal/o.selectedDay.amount).toFixed(2):0),1)])])])):(Object(s["u"])(),Object(s["g"])("div",bi,[Object(s["h"])("h1",mi,Object(s["D"])(o.text.WeekComp_HoverMessage),1)])),Object(s["h"])("div",pi,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.week,e=>(Object(s["u"])(),Object(s["e"])(c,{key:e.name,day:e,highest:o.highestAmount,onOnHover:r.selectDay},null,8,["day","highest","onOnHover"]))),128))])])}const ji={id:"data"};function yi(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",ji,[Object(s["h"])("div",{id:"bar",style:Object(s["q"])(`height: var(--${a.day.name});`),onMouseover:t[0]||(t[0]=e=>r.selectDay())},null,36),Object(s["h"])("label",null,Object(s["D"])(a.day.name),1)])}var Pi={emits:["onHover"],props:{day:Object,highest:Number},watch:{day(){this.determineHeight()},highest(){this.determineHeight()}},created(){this.determineHeight()},methods:{determineHeight(){document.documentElement.style.setProperty("--"+this.day.name,this.day.orders/this.day.amount/this.highest*315+"px")},selectDay(){this.$emit("onHover",this.day)}}};a("422c");const fi=m()(Pi,[["render",yi],["__scopeId","data-v-0e825a29"]]);var vi=fi,_i={data(){return{text:Z.getTextObject(),week:[],selectedDay:{},highestAmount:0}},props:{orders:Array},components:{DayColumn:vi},watch:{orders(){this.fillWeekData()}},created(){this.fillWeekData()},methods:{resetValues(){this.week=[{id:1,name:this.text.WeekComp_Monday,orders:0,subTotal:0,amount:0},{id:2,name:this.text.WeekComp_Tuesday,orders:0,subTotal:0,amount:0},{id:3,name:this.text.WeekComp_Wednesday,orders:0,subTotal:0,amount:0},{id:4,name:this.text.WeekComp_Thursday,orders:0,subTotal:0,amount:0},{id:5,name:this.text.WeekComp_Friday,orders:0,subTotal:0,amount:0},{id:6,name:this.text.WeekComp_Saturday,orders:0,subTotal:0,amount:0},{id:0,name:this.text.WeekComp_Sunday,orders:0,subTotal:0,amount:0}],this.selectedDay={},this.highestAmount=0},fillWeekData(){this.resetValues(),this.orders.forEach(e=>e.createdAt=new Date(e.createdAt)),this.week.forEach(e=>{this.orders.filter(t=>t.createdAt.getDay()===e.id).forEach(t=>{e.orders++,e.subTotal=e.subTotal+t.subTotal});const t=this.orders.filter(t=>t.createdAt.getDay()===e.id).map(e=>`${String(e.createdAt.getDate()).padStart(2,"0")}-${String(e.createdAt.getMonth()+1).padStart(2,"0")}-${e.createdAt.getFullYear()}`);e.amount=t.filter(this.onlyUnique).length}),this.getHighestOrderAmount()},onlyUnique(e,t,a){return a.indexOf(e)===t},getHighestOrderAmount(){this.highestAmount=this.week.map(e=>e.amount?e.orders/e.amount:0).sort((e,t)=>e<t?1:t<e?-1:0)[0]},selectDay(e){this.selectedDay=e}}};a("3939");const Ci=m()(_i,[["render",Oi],["__scopeId","data-v-56e44f81"]]);var wi=Ci;const Si={id:"category"},Ti={id:"header"},xi={key:0,id:"products"};function Ei(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",Si,[Object(s["h"])("div",Ti,[o.droppedDown?(Object(s["u"])(),Object(s["g"])("i",{key:0,class:"icon fas fa-caret-down",onClick:t[0]||(t[0]=e=>o.droppedDown=!1)})):(Object(s["u"])(),Object(s["g"])("i",{key:1,class:"icon fas fa-caret-right",onClick:t[1]||(t[1]=e=>o.droppedDown=!0)})),Object(s["h"])("label",null,Object(s["D"])(a.category.name),1)]),o.droppedDown?(Object(s["u"])(),Object(s["g"])("div",xi,[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(o.allProducts.sort((e,t)=>e.amount<t.amount?1:t.amount<e.amount?-1:0),e=>(Object(s["u"])(),Object(s["g"])("label",{key:e.id},[Object(s["h"])("label",null,Object(s["D"])(e.name),1),Object(s["i"])(" "+Object(s["D"])(o.text.CatDropDownComp_Ordered)+" ",1),Object(s["h"])("label",null,Object(s["D"])(e.amount),1),Object(s["i"])(" "+Object(s["D"])(o.text.CatDropDownComp_Times),1)]))),128))])):Object(s["f"])("",!0)])}var Di={data(){return{text:Z.getTextObject(),droppedDown:!1,allProducts:[]}},props:{category:Object,orderedProducts:Array},async created(){await this.getAllProducts()},methods:{async getAllProducts(){const e=await Rt.getProducts();e.success?(this.allProducts=e.products.filter(e=>e.categories.some(e=>e===this.category.id)),this.allProducts.forEach(e=>{e.amount=this.orderedProducts.filter(t=>t.id===e.id).length})):je.showErrorNotification(e.message)}}};a("17b3");const ki=m()(Di,[["render",Ei],["__scopeId","data-v-77c8d48b"]]);var Ai=ki,Ii={data(){return{text:Z.getTextObject(),from:String,fromTemp:Date,to:String,toTemp:Date,orders:[],categories:[],products:[],excel:{}}},components:{WeekOverview:wi,CategoryDropdown:Ai},async created(){this.setDefaultDateValues(),await this.getCategories(),await this.getOrderHistory()},methods:{setDefaultDateValues(){this.fromTemp=new Date("0001-01-01T00:00:00Z"),this.from=this.dateToYYYYMMDD(this.fromTemp),this.toTemp=new Date,this.to=this.dateToYYYYMMDD(this.toTemp)},async getCategories(){const e=await At.getCategories();e?(this.categories=e.categories,this.categories.forEach(e=>e.rerender=!1)):je.showErrorNotification(e.message)},async getOrderHistory(){const e=await li.getOrderHistory();e?(this.orders=e.orders,this.getProducts(),this.rerenderCategories()):je.showErrorNotification(e.message),this.excel=gi.convertToCSVString(this.orders)},async getOrderHistoryByDates(){const e=await li.getOrderHistoryByDates(this.from,this.to);e?(this.orders=e.orders,this.getProducts(),this.rerenderCategories()):je.showErrorNotification(e.message),this.excel=gi.convertToCSVString(this.orders)},getProducts(){this.products=[];const e=this.orders.map(e=>e.products);e.forEach(e=>e.forEach(e=>this.products.push(e)))},setDatesByPreviousDaysAmount(e){this.fromTemp=new Date((new Date).setDate((new Date).getDate()-e)),this.from=this.dateToYYYYMMDD(this.fromTemp),this.toTemp=new Date,this.to=this.dateToYYYYMMDD(this.toTemp)},applyDates(){this.from=this.dateToYYYYMMDD(this.fromTemp),this.to=this.dateToYYYYMMDD(this.toTemp),this.getOrderHistoryByDates()},dateToYYYYMMDD(e){return e&&new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().split("T")[0]},getSumOfArray(e){let t=0;return e.forEach(e=>t+=e),t.toFixed(2)},rerenderCategories(){this.categories.forEach(e=>e.rerender=!e.rerender)},exportOrderHistory(){gi.downloadCSVFile(this.excel)}}};a("e54c");const Ri=m()(Ii,[["render",ni],["__scopeId","data-v-3a600bc5"]]);var Ni=Ri;const Hi={id:"container"},Li={id:"base"},Bi={id:"base-nav",class:"tabs"},Mi={class:"tabs-list"},Wi={"data-tab":"website",href:"#"},Vi={"data-tab":"restaurant",href:"#"},$i={id:"base-content"},Fi={ref:"websiteTab",class:"tab active"},Ui={ref:"restaurantTab",class:"tab"};function Yi(e,t,a,i,o,r){const c=Object(s["B"])("WebsiteSettings"),n=Object(s["B"])("RestaurantSettings");return Object(s["u"])(),Object(s["g"])("div",Hi,[Object(s["h"])("div",Li,[Object(s["h"])("div",Bi,[Object(s["h"])("ul",Mi,[Object(s["h"])("li",{ref:"websiteBtn",onClick:t[0]||(t[0]=Object(s["M"])((...e)=>r.setTab&&r.setTab(...e),["prevent"])),"data-tab":"website",class:"active"},[Object(s["h"])("a",Wi,Object(s["D"])(o.text.SetPage_WebsiteSettings),1)],512),Object(s["h"])("li",{ref:"restaurantBtn",onClick:t[1]||(t[1]=Object(s["M"])((...e)=>r.setTab&&r.setTab(...e),["prevent"])),"data-tab":"restaurant"},[Object(s["h"])("a",Vi,Object(s["D"])(o.text.SetPage_RestaurantSettings),1)],512)])]),Object(s["h"])("div",$i,[Object(s["h"])("div",Fi,[Object(s["j"])(c)],512),Object(s["h"])("div",Ui,[Object(s["j"])(n)],512)])])])}const qi={id:"container"},zi={style:{float:"left !important"}},Zi={for:"background"},Gi={id:"colors"},Ki={for:"primary"},Ji={for:"secondary"};function Xi(e,t,a,i,o,r){const c=Object(s["B"])("ImagePreview"),n=Object(s["B"])("LanguageSettings");return Object(s["u"])(),Object(s["g"])("div",qi,[Object(s["h"])("div",zi,[Object(s["h"])("label",Zi,Object(s["D"])(o.text.WebSet_BackgroundImage),1),Object(s["j"])(c,{ref:"backgroundPreview",id:"background"},null,512),Object(s["h"])("button",{onClick:t[0]||(t[0]=(...e)=>r.handleSave&&r.handleSave(...e)),type:"button"},Object(s["D"])(o.text.WebSet_SaveSettings),1)]),Object(s["h"])("div",Gi,[Object(s["h"])("div",null,[Object(s["h"])("label",Ki,Object(s["D"])(o.text.WebSet_PrimaryColor)+" ",1),Object(s["L"])(Object(s["h"])("input",{id:"primary",type:"color","onUpdate:modelValue":t[1]||(t[1]=e=>o.primaryColor=e)},null,512),[[s["H"],o.primaryColor]])]),Object(s["h"])("div",null,[Object(s["h"])("label",Ji,Object(s["D"])(o.text.WebSet_SecondaryColor)+" ",1),Object(s["L"])(Object(s["h"])("input",{id:"secondary",type:"color","onUpdate:modelValue":t[2]||(t[2]=e=>o.secondaryColor=e)},null,512),[[s["H"],o.secondaryColor]])])]),Object(s["j"])(n)])}const Qi={class:"language_col"};function eo(e,t,a,i,o,r){return Object(s["u"])(),Object(s["g"])("div",Qi,[Object(s["L"])(Object(s["h"])("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.selected=e),onChange:t[1]||(t[1]=e=>r.setLanguage())},[(Object(s["u"])(!0),Object(s["g"])(s["a"],null,Object(s["A"])(Object.keys(o.languages),e=>(Object(s["u"])(),Object(s["g"])("option",{key:e},Object(s["D"])(e),1))),128))],544),[[s["G"],o.selected]])])}var to={data(){return{text:Z.getTextObject(),selected:"English",languages:z}},created(){this.getLanguage()},methods:{getLanguage(){const e=localStorage.getItem("language");e?this.selected=e:localStorage.setItem("language",this.selected)},setLanguage(){localStorage.setItem("language",this.selected),window.location.reload()}}};a("2baa");const ao=m()(to,[["render",eo],["__scopeId","data-v-6f9c6cc6"]]);var so=ao,io={async mounted(){let e=await u.getWebsiteSettings(),t=e.data.data.info;null!=t.primaryColor&&(this.primaryColor=t.primaryColor),t.secondaryColor&&(this.secondaryColor=t.secondaryColor),null!=t.backgroundImage&&this.$refs.backgroundPreview.setBase64(t.backgroundImage)},data(){return{text:Z.getTextObject(),primaryColor:"#0157e4",secondaryColor:"#ffffff"}},methods:{async handleSave(){const e={primaryColor:this.primaryColor,secondaryColor:this.secondaryColor,backgroundImage:""+this.$refs.backgroundPreview.base64};await u.putWebsiteSettings(e),await this.$root.updateBackground(),await this.$root.updateCss()}},components:{ImagePreview:Na,LanguageSettings:so}};a("f90a");const oo=m()(io,[["render",Xi],["__scopeId","data-v-083c6527"]]);var ro=oo;const co={id:"grid-container"},no={class:"grid container-element"},lo={class:"restaurant-details-wrapper"},go={for:"restaurantname"},uo={for:"contactperson"},ho={for:"contactemail"},bo={for:"contactphone"},mo={class:"days-open-wrapper"},po={class:"days-open"},Oo={class:"days-open"},jo={class:"days-open"},yo={class:"days-open"},Po={class:"days-open"},fo={class:"days-open"},vo={class:"days-open"},_o={class:"image-preview-wrapper"},Co={id:"img-preview",class:"container-element"},wo={for:"logo"};function So(e,t,a,i,o,r){const c=Object(s["B"])("ImagePreview");return Object(s["u"])(),Object(s["g"])("div",co,[Object(s["h"])("div",no,[Object(s["h"])("div",lo,[Object(s["h"])("div",null,[Object(s["h"])("label",go,Object(s["D"])(o.text.ResSet_RestaurantName),1),Object(s["L"])(Object(s["h"])("input",{id:"restaurantname","onUpdate:modelValue":t[0]||(t[0]=e=>o.restaurantName=e),type:"text"},null,512),[[s["H"],o.restaurantName]])]),Object(s["h"])("div",null,[Object(s["h"])("label",uo,Object(s["D"])(o.text.ResSet_ContactPerson),1),Object(s["L"])(Object(s["h"])("input",{id:"contactperson","onUpdate:modelValue":t[1]||(t[1]=e=>o.contactName=e),type:"text"},null,512),[[s["H"],o.contactName]])]),Object(s["h"])("div",null,[Object(s["h"])("label",ho,Object(s["D"])(o.text.ResSet_ContactEmail),1),Object(s["L"])(Object(s["h"])("input",{id:"contactemail","onUpdate:modelValue":t[2]||(t[2]=e=>o.contactEmail=e),type:"email"},null,512),[[s["H"],o.contactEmail]])]),Object(s["h"])("div",null,[Object(s["h"])("label",bo,Object(s["D"])(o.text.ResSet_ContactPhone),1),Object(s["L"])(Object(s["h"])("input",{id:"contactphone","onUpdate:modelValue":t[3]||(t[3]=e=>o.contactPhone=e),type:"tel"},null,512),[[s["H"],o.contactPhone]])])]),Object(s["h"])("div",mo,[Object(s["h"])("label",null,Object(s["D"])(o.text.ResSet_OpenCloseTime),1),Object(s["h"])("div",po,[Object(s["h"])("label",null,Object(s["D"])(o.text.WeekComp_Monday),1),Object(s["L"])(Object(s["h"])("input",{class:"openingtime","onUpdate:modelValue":t[4]||(t[4]=e=>o.openingTimeMonday=e),type:"time"},null,512),[[s["H"],o.openingTimeMonday]]),Object(s["L"])(Object(s["h"])("input",{class:"closingtime","onUpdate:modelValue":t[5]||(t[5]=e=>o.closingTimeMonday=e),type:"time"},null,512),[[s["H"],o.closingTimeMonday]])]),Object(s["h"])("div",Oo,[Object(s["h"])("label",null,Object(s["D"])(o.text.WeekComp_Tuesday),1),Object(s["L"])(Object(s["h"])("input",{class:"openingtime","onUpdate:modelValue":t[6]||(t[6]=e=>o.openingTimeTuesday=e),type:"time"},null,512),[[s["H"],o.openingTimeTuesday]]),Object(s["L"])(Object(s["h"])("input",{class:"closingtime","onUpdate:modelValue":t[7]||(t[7]=e=>o.closingTimeTuesday=e),type:"time"},null,512),[[s["H"],o.closingTimeTuesday]])]),Object(s["h"])("div",jo,[Object(s["h"])("label",null,Object(s["D"])(o.text.WeekComp_Wednesday),1),Object(s["L"])(Object(s["h"])("input",{class:"openingtime","onUpdate:modelValue":t[8]||(t[8]=e=>o.openingTimeWednesday=e),type:"time"},null,512),[[s["H"],o.openingTimeWednesday]]),Object(s["L"])(Object(s["h"])("input",{class:"closingtime","onUpdate:modelValue":t[9]||(t[9]=e=>o.closingTimeWednesday=e),type:"time"},null,512),[[s["H"],o.closingTimeWednesday]])]),Object(s["h"])("div",yo,[Object(s["h"])("label",null,Object(s["D"])(o.text.WeekComp_Thursday),1),Object(s["L"])(Object(s["h"])("input",{class:"openingtime","onUpdate:modelValue":t[10]||(t[10]=e=>o.openingTimeThursday=e),type:"time"},null,512),[[s["H"],o.openingTimeThursday]]),Object(s["L"])(Object(s["h"])("input",{class:"closingtime","onUpdate:modelValue":t[11]||(t[11]=e=>o.closingTimeThursday=e),type:"time"},null,512),[[s["H"],o.closingTimeThursday]])]),Object(s["h"])("div",Po,[Object(s["h"])("label",null,Object(s["D"])(o.text.WeekComp_Friday),1),Object(s["L"])(Object(s["h"])("input",{class:"openingtime","onUpdate:modelValue":t[12]||(t[12]=e=>o.openingTimeFriday=e),type:"time"},null,512),[[s["H"],o.openingTimeFriday]]),Object(s["L"])(Object(s["h"])("input",{class:"closingtime","onUpdate:modelValue":t[13]||(t[13]=e=>o.closingTimeFriday=e),type:"time"},null,512),[[s["H"],o.closingTimeFriday]])]),Object(s["h"])("div",fo,[Object(s["h"])("label",null,Object(s["D"])(o.text.WeekComp_Saturday),1),Object(s["L"])(Object(s["h"])("input",{class:"openingtime","onUpdate:modelValue":t[14]||(t[14]=e=>o.openingTimeSaturday=e),type:"time"},null,512),[[s["H"],o.openingTimeSaturday]]),Object(s["L"])(Object(s["h"])("input",{class:"closingtime","onUpdate:modelValue":t[15]||(t[15]=e=>o.closingTimeSaturday=e),type:"time"},null,512),[[s["H"],o.closingTimeSaturday]])]),Object(s["h"])("div",vo,[Object(s["h"])("label",null,Object(s["D"])(o.text.WeekComp_Sunday),1),Object(s["L"])(Object(s["h"])("input",{class:"openingtime","onUpdate:modelValue":t[16]||(t[16]=e=>o.openingTimeSunday=e),type:"time"},null,512),[[s["H"],o.openingTimeSunday]]),Object(s["L"])(Object(s["h"])("input",{class:"closingtime","onUpdate:modelValue":t[17]||(t[17]=e=>o.closingTimeSunday=e),type:"time"},null,512),[[s["H"],o.closingTimeSunday]])])])]),Object(s["h"])("div",_o,[Object(s["h"])("div",Co,[Object(s["h"])("label",wo,Object(s["D"])(o.text.ResSet_RestaurantLogo),1),Object(s["j"])(c,{ref:"logo"},null,512)]),Object(s["h"])("div",null,[Object(s["h"])("button",{onClick:t[18]||(t[18]=(...e)=>r.handleSave&&r.handleSave(...e))},Object(s["D"])(o.text.ResSet_SaveSettings),1)])])])}var To={async mounted(){let e=await u.getRestaurantSettings();if(e.data.data.info){let t=e.data.data.info;this.restaurantName=t.name,this.contactName=t.contactPersonName,this.contactEmail=t.contactPersonEmail,this.contactPhone=t.contactPersonPhone;for(let e=0;e<t.openingPeriods.length;e++)1==t.openingPeriods[e].dayOfWeek&&(this.openingTimeMonday=t.openingPeriods[e].openingTime,this.closingTimeMonday=t.openingPeriods[e].closingTime),2==t.openingPeriods[e].dayOfWeek&&(this.openingTimeTuesday=t.openingPeriods[e].openingTime,this.closingTimeTuesday=t.openingPeriods[e].closingTime),3==t.openingPeriods[e].dayOfWeek&&(this.openingTimeWednesday=t.openingPeriods[e].openingTime,this.closingTimeWednesday=t.openingPeriods[e].closingTime),4==t.openingPeriods[e].dayOfWeek&&(this.openingTimeThursday=t.openingPeriods[e].openingTime,this.closingTimeThursday=t.openingPeriods[e].closingTime),5==t.openingPeriods[e].dayOfWeek&&(this.openingTimeFriday=t.openingPeriods[e].openingTime,this.closingTimeFriday=t.openingPeriods[e].closingTime),6==t.openingPeriods[e].dayOfWeek&&(this.openingTimeSaturday=t.openingPeriods[e].openingTime,this.closingTimeSaturday=t.openingPeriods[e].closingTime),0==t.openingPeriods[e].dayOfWeek&&(this.openingTimeSunday=t.openingPeriods[e].openingTime,this.closingTimeSunday=t.openingPeriods[e].closingTime);t.restaurantLogo&&this.$refs.logo.setBase64(t.restaurantLogo)}},data(){return{text:Z.getTextObject(),restaurantName:"",contactName:"",contactEmail:"",contactPhone:"",openingTimeMonday:"",openingTimeTuesday:"",openingTimeWednesday:"",openingTimeThursday:"",openingTimeFriday:"",openingTimeSaturday:"",openingTimeSunday:"",closingTimeMonday:"",closingTimeTuesday:"",closingTimeWednesday:"",closingTimeThursday:"",closingTimeFriday:"",closingTimeSaturday:"",closingTimeSunday:"",restaurantLogo:""}},methods:{async handleSave(){const e={name:this.restaurantName,contactPersonName:this.contactName,contactPersonEmail:this.contactEmail,contactPersonPhone:this.contactPhone,openingPeriods:[{dayOfWeek:1,openingTime:this.openingTimeMonday,closingTime:this.closingTimeMonday},{dayOfWeek:2,openingTime:this.openingTimeTuesday,closingTime:this.closingTimeTuesday},{dayOfWeek:3,openingTime:this.openingTimeWednesday,closingTime:this.closingTimeWednesday},{dayOfWeek:4,openingTime:this.openingTimeThursday,closingTime:this.closingTimeThursday},{dayOfWeek:5,openingTime:this.openingTimeFriday,closingTime:this.closingTimeFriday},{dayOfWeek:6,openingTime:this.openingTimeSaturday,closingTime:this.closingTimeSaturday},{dayOfWeek:0,openingTime:this.openingTimeSunday,closingTime:this.closingTimeSunday}],restaurantLogo:this.$refs.logo.base64};await u.putRestaurantSettings(e)}},components:{ImagePreview:Na}};a("b064");const xo=m()(To,[["render",So],["__scopeId","data-v-cd332330"]]);var Eo=xo,Do={data(){return{text:Z.getTextObject()}},components:{WebsiteSettings:ro,RestaurantSettings:Eo},methods:{setTab(e){switch(e.preventDefault(),e.path[0].getAttribute("data-tab")){case"website":this.$refs.websiteBtn.classList.add("active"),this.$refs.websiteTab.classList.add("active"),this.$refs.websiteTab.style.display="block !important",this.$refs.restaurantBtn.classList.remove("active"),this.$refs.restaurantTab.classList.remove("active"),this.$refs.restaurantTab.style.display="none !important";break;case"restaurant":this.$refs.restaurantBtn.classList.add("active"),this.$refs.restaurantTab.classList.add("active"),this.$refs.restaurantTab.style.display="block !important",this.$refs.websiteBtn.classList.remove("active"),this.$refs.websiteTab.classList.remove("active"),this.$refs.websiteTab.style.display="none !important";break;default:break}}}};a("1b60");const ko=m()(Do,[["render",Yi],["__scopeId","data-v-1449a212"]]);var Ao=ko;const Io=e=>(Object(s["x"])("data-v-5c1368ee"),e=e(),Object(s["v"])(),e),Ro={key:0,class:"panel"},No={class:"section"},Ho={class:"input"},Lo=Io(()=>Object(s["h"])("i",{class:"icon fas fa-lock"},null,-1)),Bo=Io(()=>Object(s["h"])("div",{class:"line"},null,-1)),Mo=["placeholder"],Wo={class:"input"},Vo=Io(()=>Object(s["h"])("i",{class:"icon fas fa-lock"},null,-1)),$o=Io(()=>Object(s["h"])("div",{class:"line"},null,-1)),Fo=["placeholder"],Uo={key:1,class:"panel"},Yo={class:"section"},qo={class:"input"},zo=Io(()=>Object(s["h"])("i",{class:"icon fas fa-envelope"},null,-1)),Zo=Io(()=>Object(s["h"])("div",{class:"line"},null,-1));function Go(e,t,a,i,o,r){return o.hasToken?(Object(s["u"])(),Object(s["g"])("div",Ro,[Object(s["h"])("div",No,[Object(s["h"])("div",Ho,[Lo,Bo,Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.password=e),type:"password",class:"input-field",placeholder:o.text.ForgotPassPage_PlaceHolder_Pass},null,8,Mo),[[s["H"],o.password]])]),Object(s["h"])("div",Wo,[Vo,$o,Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.confirmPassword=e),type:"password",class:"input-field",placeholder:o.text.ForgotPassPage_PlaceHolder_Pass},null,8,Fo),[[s["H"],o.confirmPassword]])]),Object(s["h"])("div",null,[Object(s["h"])("button",{class:"btn",onClick:t[2]||(t[2]=(...e)=>r.changePassword&&r.changePassword(...e))},Object(s["D"])(o.text.PassPage_Change),1)])])])):(Object(s["u"])(),Object(s["g"])("div",Uo,[Object(s["h"])("div",Yo,[Object(s["h"])("div",qo,[zo,Zo,Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.email=e),type:"text",class:"input-field",placeholder:"email"},null,512),[[s["H"],o.email]])]),Object(s["h"])("div",null,[Object(s["h"])("button",{class:"btn",onClick:t[4]||(t[4]=(...e)=>r.sendResetMail&&r.sendResetMail(...e))},Object(s["D"])(o.text.PassPage_ResetLink),1)])])]))}const Ko="http://178.62.217.137";var Jo={async postResetPasswordRequest(e){var t;try{t=await l.a.post(Ko+"/api/password",{email:e})}catch(a){t=t.error}return{success:204===t.status}},async changePassword(e){var t;try{t=await l.a.put(Ko+"/api/password",e)}catch(a){t=t.error}return{success:204===t.status}}},Xo={parseJwt(e){const t=e.split(".")[1],a=t.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(s)},checkExpiration(e){const t=new Date(1e3*e),a=new Date;return t.getTime()<=a.getTime()},parseEmail(e){const t=this.parseJwt(e),a=t["sub"];return a}},Qo={data(){return{text:Z.getTextObject(),token:"",hasToken:!1,password:"",confirmPassword:"",email:""}},async created(){if(this.token=this.$route.query.token,this.token){const e=Xo.parseJwt(this.token),t=Xo.checkExpiration(e["exp"]);t&&(je.showErrorNotification(this.text.ForgotPassPage_TokenErr),this.$router.push("login")),this.hasToken=!0}},methods:{async sendResetMail(){if(!this.email)return void je.showErrorNotification(this.text.ForgotPassPage_EmailErr);const e=await Jo.postResetPasswordRequest(this.email);e.success?(je.showInfoNotification(this.text.ForgotPassPage_EmailReset),this.$router.push("login")):je.showErrorNotification(this.text.ForgotPassPage_UserMailErr)},async changePassword(){if(this.password===this.confirmPassword){const e=Xo.parseEmail(this.token),t={email:e,password:this.password,token:this.token},a=await Jo.changePassword(t);a.success?(je.showSuccessNotification(this.text.ForgotPassPage_PassChanged),this.$router.push("login")):je.showErrorNotification(this.text.ForgotPassPage_Error)}else je.showErrorNotification(this.text.ForgotPassPage_PassErr)}}};a("6d42");const er=m()(Qo,[["render",Go],["__scopeId","data-v-5c1368ee"]]);var tr=er;const ar=[{path:"/login",name:"login",component:We,meta:{guest:!0}},{path:"/employees",name:"employees",component:tt,meta:{requiresAuth:!0}},{path:"/menu",name:"menu",component:Lt,meta:{requiresAuth:!0}},{path:"/product",name:"product",component:$a,meta:{requiresAuth:!0}},{path:"/category",name:"category",component:is,meta:{requiresAuth:!0}},{path:"/robots",name:"robots",component:_s,meta:{requiresAuth:!0}},{path:"/map",name:"map",component:Ks,meta:{requiresAuth:!0}},{path:"/order-history",name:"order-history",component:Ni,meta:{requiresAuth:!0}},{path:"/settings",name:"settings",component:Ao,meta:{requiresAuth:!0}},{path:"/forgot-password",name:"forgot-password",component:tr,meta:{guest:!0}}],sr=Object(ve["a"])({history:Object(ve["b"])("/"),routes:ar});sr.beforeEach((e,t,a)=>{if("/"===e.path&&(null==localStorage.getItem("jwt")?a({name:"login",params:{nextUrl:e.fullPath}}):a({name:"employees"})),e.matched.some(e=>e.meta.requiresAuth))if(null==localStorage.getItem("jwt"))a({name:"login",params:{nextUrl:e.fullPath}});else{const t=Xo.parseJwt(localStorage.getItem("jwt")),s=Xo.checkExpiration(t["exp"]);s?(localStorage.removeItem("jwt"),a({name:"login",params:{nextUrl:e.fullPath}})):a()}else e.matched.some(e=>e.meta.guest)?null==localStorage.getItem("jwt")?a():a({name:"employees"}):a()});var ir=sr;Object(s["d"])(fe).use(ir).use(Oe["a"]).mount("#app")},"56fd":function(e,t,a){},"63ba":function(e,t,a){},6408:function(e,t,a){},"6d42":function(e,t,a){"use strict";a("c94f")},"6f0c":function(e,t,a){"use strict";a("e071")},7940:function(e,t,a){},"7f8a":function(e,t,a){},"83d6":function(e,t,a){},8641:function(e,t,a){"use strict";a("95e2")},"876b":function(e,t,a){},"95e2":function(e,t,a){},"9f10":function(e,t,a){},a04c:function(e,t,a){"use strict";a("6408")},a222:function(e,t,a){},a952:function(e,t,a){"use strict";a("56fd")},aeea:function(e,t,a){"use strict";a("4753")},b064:function(e,t,a){"use strict";a("2ccb")},b076:function(e,t,a){e.exports=a.p+"img/background.d53d3ef0.jpg"},c94f:function(e,t,a){},d05f:function(e,t,a){},d814:function(e,t,a){},dacb:function(e,t,a){"use strict";a("83d6")},ddab:function(e,t,a){},dfa0:function(e,t,a){},e071:function(e,t,a){},e54c:function(e,t,a){"use strict";a("a222")},e923:function(e,t,a){},eab2:function(e,t,a){},f90a:function(e,t,a){"use strict";a("eab2")}});
//# sourceMappingURL=app.1642e0ca.js.map